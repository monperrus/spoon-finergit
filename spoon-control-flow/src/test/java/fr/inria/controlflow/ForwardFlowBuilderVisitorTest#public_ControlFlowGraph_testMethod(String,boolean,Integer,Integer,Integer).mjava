public
ControlFlowGraph
testMethod
(
final
String
methodName
,
boolean
simplify
,
Integer
branchCount
,
Integer
stmntCount
,
Integer
totalCount
)
throws
Exception
{
ControlFlowGraph
graph
=
buildGraph
(
this
.
getClass
(
)
.
getResource
(
"/control-flow"
)
.
toURI
(
)
.
getPath
(
)
,
methodName
,
simplify
)
;
PrintWriter
out
=
new
PrintWriter
(
"target/graph.dot"
)
;
out
.
println
(
graph
.
toGraphVisText
(
)
)
;
out
.
close
(
)
;
if
(
branchCount
!=
null
)
assertEquals
(
(
int
)
branchCount
,
graph
.
branchCount
(
)
)
;
if
(
stmntCount
!=
null
)
assertEquals
(
(
int
)
stmntCount
,
graph
.
statementCount
(
)
)
;
if
(
totalCount
!=
null
)
assertEquals
(
(
int
)
totalCount
,
graph
.
vertexSet
(
)
.
size
(
)
)
;
return
graph
;
}
