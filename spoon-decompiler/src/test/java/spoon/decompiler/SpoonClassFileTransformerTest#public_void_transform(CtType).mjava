public
void
transform
(
CtType
type
)
{
if
(
type
instanceof
CtClass
)
{
if
(
(
(
CtClass
)
type
)
.
getConstructor
(
)
.
getBody
(
)
.
getStatements
(
)
.
size
(
)
<=
1
)
{
type
.
getField
(
"transformed"
)
.
setAssignment
(
type
.
getFactory
(
)
.
createCodeSnippetExpression
(
"true"
)
)
;
}
else
{
(
(
CtClass
)
type
)
.
getConstructor
(
)
.
getBody
(
)
.
insertEnd
(
type
.
getFactory
(
)
.
createCodeSnippetStatement
(
"this.transformed=true"
)
)
;
}
}
}
