@Test
public
void
testSpecPackage
(
)
{
Set
<
String
>
officialPackages
=
new
TreeSet
<
>
(
)
;
officialPackages
.
add
(
"spoon.decompiler"
)
;
officialPackages
.
add
(
"spoon"
)
;
officialPackages
.
add
(
""
)
;
SpoonAPI
spoon
=
new
Launcher
(
)
;
spoon
.
addInputResource
(
"src/main/java/"
)
;
spoon
.
buildModel
(
)
;
final
Set
<
String
>
currentPackages
=
new
TreeSet
<
>
(
)
;
spoon
.
getModel
(
)
.
processWith
(
new
AbstractProcessor
<
CtPackage
>
(
)
{
@Override
public
void
process
(
CtPackage
element
)
{
currentPackages
.
add
(
element
.
getQualifiedName
(
)
)
;
}
}
)
;
assertSetEquals
(
"you have created a new package or removed an existing one, please declare it explicitly in SpoonArchitectureEnforcerTest#testSpecPackage"
,
officialPackages
,
currentPackages
)
;
}
