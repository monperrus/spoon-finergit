@Override
protected
void
enter
(
final
CtElement
elt
)
{
level
++
;
final
SourcePosition
pos
=
elt
.
getPosition
(
)
;
final
List
<
Integer
>
lines
=
pos
.
isValidPosition
(
)
?
List
.
of
(
pos
.
getSourceStart
(
)
,
pos
.
getSourceEnd
(
)
)
:
List
.
of
(
)
;
if
(
elt
instanceof
CtType
<
?
>
)
{
printer
.
visitElement
(
elt
,
level
,
createNodeLabel
(
elt
,
Optional
.
of
(
": "
+
(
(
CtType
<
?
>
)
elt
)
.
getSimpleName
(
)
)
)
,
lines
)
;
return
;
}
if
(
elt
instanceof
CtNamedElement
)
{
printer
.
visitElement
(
elt
,
level
,
createNodeLabel
(
elt
,
Optional
.
of
(
": "
+
(
(
CtNamedElement
)
elt
)
.
getSimpleName
(
)
)
)
,
lines
)
;
return
;
}
if
(
elt
instanceof
CtReference
)
{
printer
.
visitElement
(
elt
,
level
,
createNodeLabel
(
elt
,
Optional
.
of
(
": "
+
(
(
CtReference
)
elt
)
.
getSimpleName
(
)
)
)
,
lines
)
;
return
;
}
if
(
elt
instanceof
CtVariableAccess
<
?
>
)
{
final
CtVariableAccess
<
?
>
varaccess
=
(
CtVariableAccess
<
?
>
)
elt
;
final
String
txt
=
": "
+
(
(
varaccess
.
getVariable
(
)
!=
null
)
?
varaccess
.
getVariable
(
)
.
getSimpleName
(
)
:
"(null)"
)
;
printer
.
visitElement
(
elt
,
level
,
createNodeLabel
(
elt
,
Optional
.
of
(
txt
)
)
,
lines
)
;
return
;
}
if
(
elt
instanceof
CtTypeAccess
<
?
>
)
{
final
CtTypeAccess
<
?
>
typeaccess
=
(
CtTypeAccess
<
?
>
)
elt
;
final
String
txt
=
": "
+
(
(
typeaccess
.
getAccessedType
(
)
!=
null
)
?
typeaccess
.
getAccessedType
(
)
.
getSimpleName
(
)
:
"(null)"
)
;
printer
.
visitElement
(
elt
,
level
,
createNodeLabel
(
elt
,
Optional
.
of
(
txt
)
)
,
lines
)
;
return
;
}
if
(
elt
instanceof
CtLiteral
<
?
>
)
{
printer
.
visitElement
(
elt
,
level
,
createNodeLabel
(
elt
,
Optional
.
of
(
": "
+
(
(
CtLiteral
<
?
>
)
elt
)
.
getValue
(
)
)
)
,
lines
)
;
return
;
}
if
(
elt
instanceof
CtAbstractInvocation
<
?
>
)
{
final
CtAbstractInvocation
<
?
>
invoc
=
(
CtAbstractInvocation
<
?
>
)
elt
;
final
String
txt
=
": "
+
(
(
invoc
.
getExecutable
(
)
!=
null
)
?
invoc
.
getExecutable
(
)
.
getSimpleName
(
)
:
"(null)"
)
;
printer
.
visitElement
(
elt
,
level
,
createNodeLabel
(
elt
,
Optional
.
of
(
txt
)
)
,
lines
)
;
return
;
}
if
(
elt
instanceof
CtAnnotation
<
?
>
)
{
final
CtAnnotation
<
?
>
annot
=
(
CtAnnotation
<
?
>
)
elt
;
final
String
txt
=
": "
+
(
(
annot
.
getAnnotationType
(
)
!=
null
)
?
annot
.
getAnnotationType
(
)
.
getSimpleName
(
)
:
"(null)"
)
;
printer
.
visitElement
(
elt
,
level
,
createNodeLabel
(
elt
,
Optional
.
of
(
txt
)
)
,
lines
)
;
return
;
}
printer
.
visitElement
(
elt
,
level
,
createNodeLabel
(
elt
,
Optional
.
empty
(
)
)
,
lines
)
;
}
