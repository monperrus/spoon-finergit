@Test
void
testStatementLevel
(
final
FxRobot
robot
)
{
robot
.
clickOn
(
spoonCode
)
.
write
(
"int i;"
)
;
waitForTimeoutTransitions
(
)
;
robot
.
clickOn
(
treeLevel
)
.
type
(
KeyCode
.
DOWN
)
.
type
(
KeyCode
.
DOWN
)
.
type
(
KeyCode
.
ENTER
)
;
WaitForAsyncUtils
.
waitForFxEvents
(
)
;
final
ObservableList
<
TreeItem
<
TextFlow
>
>
ast
=
spoonAST
.
getRoot
(
)
.
getChildren
(
)
;
assertThat
(
ast
.
size
(
)
)
.
isEqualTo
(
1
)
;
assertThat
(
ast
.
get
(
0
)
.
getValue
(
)
.
getChildren
(
)
.
stream
(
)
.
anyMatch
(
ch
->
ch
instanceof
Hyperlink
&&
(
(
Hyperlink
)
ch
)
.
getText
(
)
.
equals
(
"CtLocalVariable"
)
)
)
.
isTrue
(
)
;
}
