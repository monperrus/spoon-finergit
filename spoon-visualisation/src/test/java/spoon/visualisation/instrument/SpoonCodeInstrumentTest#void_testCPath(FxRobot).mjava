@Test
void
testCPath
(
final
FxRobot
robot
)
{
final
VBox
propsPanel
=
robot
.
lookup
(
"#propPanel"
)
.
query
(
)
;
final
CtElement
stub
=
Mockito
.
mock
(
CtElement
.
class
)
;
final
CtPath
path
=
Mockito
.
mock
(
CtPath
.
class
)
;
Mockito
.
when
(
stub
.
getPath
(
)
)
.
thenReturn
(
path
)
;
Mockito
.
when
(
path
.
toString
(
)
)
.
thenReturn
(
"#thePath"
)
;
Platform
.
runLater
(
(
)
->
spoonCodeInstrument
.
updatePropertiesPanel
(
stub
)
)
;
WaitForAsyncUtils
.
waitForFxEvents
(
)
;
final
VBox
box
=
(
VBox
)
propsPanel
.
getChildren
(
)
.
get
(
0
)
;
assertThat
(
box
.
getChildren
(
)
.
get
(
0
)
)
.
isInstanceOf
(
Text
.
class
)
;
assertThat
(
(
(
Text
)
box
.
getChildren
(
)
.
get
(
0
)
)
.
getText
(
)
)
.
isEqualTo
(
"Path"
)
;
assertThat
(
box
.
getChildren
(
)
.
get
(
1
)
)
.
isInstanceOf
(
TextField
.
class
)
;
assertThat
(
(
(
TextField
)
box
.
getChildren
(
)
.
get
(
1
)
)
.
getText
(
)
)
.
isEqualTo
(
"#thePath"
)
;
}
