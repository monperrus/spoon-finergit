@Disabled("Does not work on headless server")
@Test
void
testClickHyperlink
(
final
FxRobot
robot
)
{
robot
.
clickOn
(
spoonCode
)
.
write
(
"class Foo { }"
)
;
waitForTimeoutTransitions
(
)
;
final
CmdHandler
handler
=
Mockito
.
mock
(
CmdHandler
.
class
)
;
CommandsRegistry
.
INSTANCE
.
addHandler
(
handler
)
;
final
Set
<
Node
>
hyperlinks
=
robot
.
lookup
(
CoreMatchers
.
instanceOf
(
Hyperlink
.
class
)
)
.
queryAll
(
)
;
robot
.
clickOn
(
hyperlinks
.
iterator
(
)
.
next
(
)
)
;
WaitForAsyncUtils
.
waitForFxEvents
(
)
;
waitForThread
(
"OPEN_SPOON_DOC_THREAD"
)
;
Mockito
.
verify
(
handler
,
Mockito
.
times
(
1
)
)
.
onCmdExecuted
(
Mockito
.
any
(
OpenWebPage
.
class
)
)
;
}
