final
public
void
init
(
)
{
DocumentBuilderFactory
factory
=
DocumentBuilderFactory
.
newInstance
(
)
;
factory
.
setValidating
(
false
)
;
factory
.
setNamespaceAware
(
true
)
;
try
{
DocumentBuilder
builder
=
factory
.
newDocumentBuilder
(
)
;
document
=
builder
.
parse
(
getClass
(
)
.
getClassLoader
(
)
.
getResourceAsStream
(
xmlPath
)
)
;
}
catch
(
SAXParseException
spe
)
{
getEnvironment
(
)
.
report
(
this
,
Severity
.
ERROR
,
"XML parsing error line "
+
spe
.
getLineNumber
(
)
+
", uri "
+
spe
.
getSystemId
(
)
)
;
Exception
x
=
spe
;
if
(
spe
.
getException
(
)
!=
null
)
x
=
spe
.
getException
(
)
;
Spoon
.
logger
.
error
(
x
.
getMessage
(
)
,
x
)
;
}
catch
(
SAXException
sxe
)
{
Exception
x
=
sxe
;
if
(
sxe
.
getException
(
)
!=
null
)
x
=
sxe
.
getException
(
)
;
Spoon
.
logger
.
error
(
x
.
getMessage
(
)
,
x
)
;
}
catch
(
ParserConfigurationException
pce
)
{
Spoon
.
logger
.
error
(
pce
.
getMessage
(
)
,
pce
)
;
}
catch
(
IOException
ioe
)
{
Spoon
.
logger
.
error
(
ioe
.
getMessage
(
)
,
ioe
)
;
}
}
