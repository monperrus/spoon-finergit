/** 
 * Creates or gets a compilation unit for a given file path.
 */
public
CompilationUnit
create
(
String
filePath
)
{
CompilationUnit
cu
=
compilationUnits
.
get
(
filePath
)
;
if
(
cu
==
null
)
{
if
(
""
.
equals
(
filePath
)
)
{
cu
=
factory
.
Core
(
)
.
createVirtualCompilationUnit
(
)
;
return
cu
;
}
cu
=
factory
.
Core
(
)
.
createCompilationUnit
(
)
;
cu
.
setFile
(
new
File
(
filePath
)
)
;
compilationUnits
.
put
(
filePath
,
cu
)
;
}
return
cu
;
}
