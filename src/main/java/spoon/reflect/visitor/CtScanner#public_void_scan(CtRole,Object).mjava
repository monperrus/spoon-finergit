/** 
 * Generically scans an object that can be an element, a reference, or a collection of those.
 */
public
void
scan
(
CtRole
role
,
Object
o
)
{
if
(
o
instanceof
CtElement
)
{
scan
(
role
,
(
(
CtElement
)
(
o
)
)
)
;
}
if
(
o
instanceof
Collection
<
?
>
)
{
for
(
Object
obj
:
(
(
Collection
<
?
>
)
(
o
)
)
)
{
scan
(
role
,
obj
)
;
}
}
if
(
o
instanceof
Map
<
?
,
?
>
)
{
for
(
Object
obj
:
(
(
Map
)
(
o
)
)
.
values
(
)
)
{
scan
(
role
,
obj
)
;
}
}
}
