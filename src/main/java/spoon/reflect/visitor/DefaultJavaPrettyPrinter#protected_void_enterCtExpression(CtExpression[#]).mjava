/** 
 * Enters an expression.
 */
protected
void
enterCtExpression
(
CtExpression
<
?
>
e
)
{
if
(
!
(
e
instanceof
CtStatement
)
)
{
elementPrinterHelper
.
writeComment
(
e
,
CommentOffset
.
BEFORE
)
;
}
getPrinterHelper
(
)
.
mapLine
(
e
,
sourceCompilationUnit
)
;
if
(
shouldSetBracket
(
e
)
)
{
context
.
parenthesedExpression
.
push
(
e
)
;
printer
.
writeSeparator
(
"("
)
;
}
if
(
!
e
.
getTypeCasts
(
)
.
isEmpty
(
)
)
{
for
(
CtTypeReference
<
?
>
r
:
e
.
getTypeCasts
(
)
)
{
printer
.
writeSeparator
(
"("
)
;
scan
(
r
)
;
printer
.
writeSeparator
(
")"
)
.
writeSpace
(
)
;
printer
.
writeSeparator
(
"("
)
;
context
.
parenthesedExpression
.
push
(
e
)
;
}
}
}
