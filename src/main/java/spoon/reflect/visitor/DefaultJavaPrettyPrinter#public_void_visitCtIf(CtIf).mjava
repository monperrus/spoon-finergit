@Override
public
void
visitCtIf
(
CtIf
ifElement
)
{
enterCtStatement
(
ifElement
)
;
printer
.
writeKeyword
(
"if"
)
.
writeSpace
(
)
.
writeSeparator
(
"("
)
;
scan
(
ifElement
.
getCondition
(
)
)
;
printer
.
writeSeparator
(
")"
)
;
CtStatement
thenStmt
=
ifElement
.
getThenStatement
(
)
;
CtStatement
elseStmt
=
ifElement
.
getElseStatement
(
)
;
elementPrinterHelper
.
writeIfOrLoopBlock
(
thenStmt
)
;
if
(
elseStmt
!=
null
)
{
List
<
CtComment
>
comments
=
elementPrinterHelper
.
getComments
(
ifElement
,
CommentOffset
.
INSIDE
)
;
if
(
thenStmt
!=
null
)
{
SourcePosition
thenPosition
=
thenStmt
.
getPosition
(
)
;
if
(
!
thenPosition
.
isValidPosition
(
)
&&
thenStmt
instanceof
CtBlock
)
{
CtStatement
thenExpression
=
(
(
CtBlock
)
thenStmt
)
.
getStatement
(
0
)
;
thenPosition
=
thenExpression
.
getPosition
(
)
;
}
for
(
CtComment
comment
:
comments
)
{
if
(
comment
.
getPosition
(
)
.
getSourceStart
(
)
>
thenPosition
.
getSourceEnd
(
)
)
{
elementPrinterHelper
.
writeComment
(
comment
)
;
}
}
}
if
(
thenStmt
instanceof
CtBlock
&&
!
thenStmt
.
isImplicit
(
)
)
{
printer
.
writeSpace
(
)
;
}
printer
.
writeKeyword
(
"else"
)
;
elementPrinterHelper
.
writeIfOrLoopBlock
(
elseStmt
)
;
}
exitCtStatement
(
ifElement
)
;
}
