private
CtQuery
createScopeQuery
(
CtVariable
<
?
>
variable
,
CtElement
scope
,
Context
context
)
{
QueryCreator
qc
=
new
QueryCreator
(
scope
,
context
)
;
variable
.
accept
(
qc
)
;
if
(
qc
.
query
==
null
)
{
throw
new
SpoonException
(
"Unexpected type of variable: "
+
variable
.
getClass
(
)
.
getName
(
)
)
;
}
return
qc
.
query
;
}
