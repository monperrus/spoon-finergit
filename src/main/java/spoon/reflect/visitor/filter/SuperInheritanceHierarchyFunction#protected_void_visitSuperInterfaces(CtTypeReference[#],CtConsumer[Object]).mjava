/** 
 * calls `outputConsumer.accept(interface)` for all superInterfaces of type recursively.
 */
protected
void
visitSuperInterfaces
(
CtTypeReference
<
?
>
type
,
CtConsumer
<
Object
>
outputConsumer
)
{
Set
<
CtTypeReference
<
?
>
>
superInterfaces
;
try
{
superInterfaces
=
type
.
getSuperInterfaces
(
)
;
}
catch
(
SpoonClassNotFoundException
e
)
{
if
(
failOnClassNotFound
)
{
throw
e
;
}
Launcher
.
LOGGER
.
warn
(
"Cannot load class: "
+
type
.
getQualifiedName
(
)
+
" with class loader "
+
Thread
.
currentThread
(
)
.
getContextClassLoader
(
)
)
;
return
;
}
for
(
CtTypeReference
<
?
>
ifaceRef
:
superInterfaces
)
{
ScanningMode
mode
=
enter
(
ifaceRef
,
true
)
;
if
(
mode
==
SKIP_ALL
)
{
continue
;
}
sendResult
(
ifaceRef
,
outputConsumer
)
;
if
(
mode
==
NORMAL
&&
query
.
isTerminated
(
)
==
false
)
{
visitSuperInterfaces
(
ifaceRef
,
outputConsumer
)
;
}
exit
(
ifaceRef
,
true
)
;
if
(
query
.
isTerminated
(
)
)
{
return
;
}
}
}
