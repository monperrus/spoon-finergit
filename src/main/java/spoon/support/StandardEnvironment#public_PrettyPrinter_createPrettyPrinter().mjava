@Override
public
PrettyPrinter
createPrettyPrinter
(
)
{
if
(
prettyPrinterCreator
==
null
)
{
DefaultJavaPrettyPrinter
printer
=
new
DefaultJavaPrettyPrinter
(
this
)
;
if
(
PRETTY_PRINTING_MODE
.
AUTOIMPORT
.
equals
(
prettyPrintingMode
)
)
{
List
<
Processor
<
CtCompilationUnit
>
>
preprocessors
=
Collections
.
unmodifiableList
(
Arrays
.
asList
(
new
ForceImportProcessor
(
)
,
new
ImportCleaner
(
)
.
setCanAddImports
(
false
)
,
new
ImportConflictDetector
(
)
,
new
ImportCleaner
(
)
.
setImportComparator
(
new
DefaultImportComparator
(
)
)
)
)
;
printer
.
setPreprocessors
(
preprocessors
)
;
}
if
(
PRETTY_PRINTING_MODE
.
FULLYQUALIFIED
.
equals
(
prettyPrintingMode
)
)
{
List
<
Processor
<
CtCompilationUnit
>
>
preprocessors
=
Collections
.
unmodifiableList
(
Arrays
.
asList
(
new
ForceFullyQualifiedProcessor
(
)
,
new
ImportConflictDetector
(
)
,
new
ImportCleaner
(
)
.
setImportComparator
(
new
DefaultImportComparator
(
)
)
)
)
;
printer
.
setPreprocessors
(
preprocessors
)
;
}
return
printer
;
}
return
prettyPrinterCreator
.
get
(
)
;
}
