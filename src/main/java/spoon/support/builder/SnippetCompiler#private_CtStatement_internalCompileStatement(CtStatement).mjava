private
static
CtStatement
internalCompileStatement
(
CtStatement
st
)
{
Factory
f
=
st
.
getFactory
(
)
;
CtClass
<
?
>
w
=
createWrapper
(
st
,
f
)
;
compile
(
f
,
w
)
;
CtSimpleType
c
=
f
.
Type
(
)
.
get
(
"Wrapper"
)
;
CtMethod
wrapper
=
Query
.
getElements
(
c
,
new
Filter
<
CtMethod
>
(
)
{
public
Class
<
CtMethod
>
getType
(
)
{
return
CtMethod
.
class
;
}
public
boolean
matches
(
CtMethod
element
)
{
return
element
.
getSimpleName
(
)
.
equals
(
"wrap"
)
;
}
}
)
.
get
(
0
)
;
CtStatement
ret
=
(
CtStatement
)
wrapper
.
getBody
(
)
.
getStatements
(
)
.
get
(
0
)
;
c
.
getPackage
(
)
.
getTypes
(
)
.
remove
(
c
)
;
return
ret
;
}
