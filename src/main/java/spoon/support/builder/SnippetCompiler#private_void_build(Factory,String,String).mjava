private
static
void
build
(
Factory
f
,
String
contents
,
String
name
)
{
boolean
success
;
Builder
builder
=
f
.
getBuilder
(
)
;
try
{
builder
.
addInputSource
(
new
CtVirtualFile
(
contents
,
name
)
)
;
success
=
builder
.
build
(
)
;
}
catch
(
Exception
e
)
{
success
=
debugCompilationError
(
f
,
e
)
;
}
if
(
!
success
)
{
throw
new
CtSnippetCompilationError
(
builder
.
getProblems
(
)
)
;
}
}
