@SuppressWarnings("unchecked")
public
static
<
T
>
CtExpression
<
T
>
compileExpression
(
CtCodeSnippetExpression
<
T
>
expr
)
throws
SnippetCompilationError
{
CtReturn
<
T
>
ret
=
(
CtReturn
<
T
>
)
internalCompileStatement
(
expr
,
expr
.
getFactory
(
)
.
Type
(
)
.
OBJECT
)
;
CtExpression
<
T
>
returnedExpression
=
ret
.
getReturnedExpression
(
)
;
returnedExpression
.
delete
(
)
;
returnedExpression
.
setParent
(
null
)
;
return
returnedExpression
;
}
