public
CompilationUnitDeclaration
[
]
buildUnits
(
CompilationUnit
[
]
sourceUnits
)
{
for
(
CompilationUnit
cu
:
sourceUnits
)
{
if
(
cu
==
null
)
{
throw
new
IllegalArgumentException
(
)
;
}
}
CompilationUnitDeclaration
unit
=
null
;
int
i
=
0
;
beginToCompile
(
sourceUnits
)
;
for
(
;
i
<
this
.
totalUnits
;
i
++
)
{
unit
=
unitsToProcess
[
i
]
;
this
.
parser
.
getMethodBodies
(
unit
)
;
if
(
unit
.
scope
!=
null
)
unit
.
scope
.
faultInTypes
(
)
;
if
(
unit
.
scope
!=
null
)
unit
.
scope
.
verifyMethods
(
lookupEnvironment
.
methodVerifier
(
)
)
;
unit
.
resolve
(
)
;
unit
.
analyseCode
(
)
;
unit
.
ignoreFurtherInvestigation
=
false
;
requestor
.
acceptResult
(
unit
.
compilationResult
)
;
}
return
this
.
unitsToProcess
;
}
