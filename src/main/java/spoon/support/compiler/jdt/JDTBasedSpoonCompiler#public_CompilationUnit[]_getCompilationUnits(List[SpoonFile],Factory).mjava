public
CompilationUnit
[
]
getCompilationUnits
(
List
<
SpoonFile
>
streams
,
Factory
factory
)
throws
Exception
{
CompilationUnit
[
]
units
=
new
CompilationUnit
[
]
;
int
i
=
0
;
for
(
SpoonFile
stream
:
streams
)
{
InputStream
in
=
stream
.
getContent
(
)
;
units
[
i
]
=
new
CompilationUnit
(
Util
.
getInputStreamAsCharArray
(
in
,
-
1
,
null
)
,
stream
.
getPath
(
)
,
null
)
;
in
.
close
(
)
;
i
++
;
}
return
units
;
}
