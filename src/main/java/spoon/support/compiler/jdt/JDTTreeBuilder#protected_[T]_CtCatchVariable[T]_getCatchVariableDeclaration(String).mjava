protected
<
T
>
CtCatchVariable
<
T
>
getCatchVariableDeclaration
(
final
String
name
)
{
List
<
CtElement
>
reversedElements
=
new
ArrayList
<
CtElement
>
(
context
.
stack
.
size
(
)
)
;
for
(
ASTPair
element
:
context
.
stack
)
{
reversedElements
.
add
(
0
,
element
.
element
)
;
}
for
(
CtElement
element
:
reversedElements
)
{
List
<
CtCatchVariable
<
T
>
>
var
=
Query
.
getElements
(
element
,
new
TypeFilter
<
CtCatchVariable
<
T
>
>
(
CtCatchVariable
.
class
)
{
@Override
public
boolean
matches
(
CtCatchVariable
<
T
>
element
)
{
return
name
.
equals
(
element
.
getSimpleName
(
)
)
&&
super
.
matches
(
element
)
;
}
}
)
;
if
(
var
.
size
(
)
>
0
)
{
return
var
.
get
(
0
)
;
}
}
logger
.
error
(
"could not find declaration for catch variable "
+
name
+
" at "
+
context
.
stack
.
peek
(
)
.
element
.
getPosition
(
)
)
;
return
null
;
}
