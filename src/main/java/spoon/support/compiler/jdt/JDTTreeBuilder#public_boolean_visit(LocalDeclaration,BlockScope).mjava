@Override
public
boolean
visit
(
LocalDeclaration
localDeclaration
,
BlockScope
scope
)
{
CtLocalVariable
<
Object
>
v
=
factory
.
Core
(
)
.
createLocalVariable
(
)
;
boolean
isVar
=
localDeclaration
.
type
.
isTypeNameVar
(
scope
)
;
if
(
isVar
)
{
v
.
setInferred
(
true
)
;
}
v
.
setSimpleName
(
CharOperation
.
charToString
(
localDeclaration
.
name
)
)
;
if
(
localDeclaration
.
binding
!=
null
)
{
v
.
setExtendedModifiers
(
getModifiers
(
localDeclaration
.
binding
.
modifiers
,
true
,
false
)
)
;
}
for
(
CtExtendedModifier
extendedModifier
:
getModifiers
(
localDeclaration
.
modifiers
,
false
,
false
)
)
{
v
.
addModifier
(
extendedModifier
.
getKind
(
)
)
;
}
context
.
enter
(
v
,
localDeclaration
)
;
return
true
;
}
