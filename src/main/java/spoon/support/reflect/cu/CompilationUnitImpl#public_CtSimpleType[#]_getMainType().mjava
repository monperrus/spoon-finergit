public
CtSimpleType
<
?
>
getMainType
(
)
{
if
(
getFile
(
)
==
null
)
return
getDeclaredTypes
(
)
.
get
(
0
)
;
for
(
CtSimpleType
<
?
>
t
:
getDeclaredTypes
(
)
)
{
String
name
=
getFile
(
)
.
getName
(
)
;
name
=
name
.
substring
(
0
,
name
.
lastIndexOf
(
"."
)
)
;
if
(
t
.
getSimpleName
(
)
.
equals
(
name
)
)
return
t
;
}
throw
new
RuntimeException
(
"inconsistent compilation unit: '"
+
file
+
"': declared types are "
+
getDeclaredTypes
(
)
)
;
}
