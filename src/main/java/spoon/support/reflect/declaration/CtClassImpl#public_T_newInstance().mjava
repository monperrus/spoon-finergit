@Override
public
T
newInstance
(
)
{
try
{
JDTBasedSpoonCompiler
spooner
=
new
JDTBasedSpoonCompiler
(
getFactory
(
)
)
;
spooner
.
compile
(
InputType
.
CTTYPES
)
;
try
(
NewInstanceClassloader
classloader
=
new
NewInstanceClassloader
(
spooner
.
getBinaryOutputDirectory
(
)
)
)
{
Class
<
?
>
klass
=
classloader
.
loadClass
(
getQualifiedName
(
)
)
;
return
(
T
)
klass
.
newInstance
(
)
;
}
}
catch
(
Exception
e
)
{
throw
new
SpoonException
(
e
)
;
}
}
