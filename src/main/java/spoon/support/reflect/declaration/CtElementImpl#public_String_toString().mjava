@Override
public
String
toString
(
)
{
DefaultJavaPrettyPrinter
printer
=
(
DefaultJavaPrettyPrinter
)
getFactory
(
)
.
getEnvironment
(
)
.
createPrettyPrinter
(
)
;
if
(
!
getFactory
(
)
.
getEnvironment
(
)
.
getPrettyPrintingMode
(
)
.
equals
(
Environment
.
PRETTY_PRINTING_MODE
.
AUTOIMPORT
)
)
{
printer
.
setIgnoreImplicit
(
true
)
;
}
String
errorMessage
=
""
;
try
{
CtElement
clone
=
this
.
clone
(
)
;
if
(
this
.
isParentInitialized
(
)
)
{
clone
.
setParent
(
this
.
getParent
(
)
)
;
}
if
(
getFactory
(
)
.
getEnvironment
(
)
.
getPrettyPrintingMode
(
)
.
equals
(
Environment
.
PRETTY_PRINTING_MODE
.
AUTOIMPORT
)
)
{
printer
.
applyPreProcessors
(
clone
)
;
}
printer
.
scan
(
clone
)
;
}
catch
(
ParentNotInitializedException
ignore
)
{
LOGGER
.
error
(
ERROR_MESSAGE_TO_STRING
,
ignore
)
;
errorMessage
=
ERROR_MESSAGE_TO_STRING
;
}
return
printer
.
toString
(
)
.
replaceFirst
(
"^\\s+"
,
""
)
+
errorMessage
;
}
