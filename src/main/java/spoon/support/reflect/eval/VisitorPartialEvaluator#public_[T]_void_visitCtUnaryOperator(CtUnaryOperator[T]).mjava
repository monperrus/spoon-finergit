@Override
public
<
T
>
void
visitCtUnaryOperator
(
CtUnaryOperator
<
T
>
operator
)
{
CtExpression
<
?
>
operand
=
evaluate
(
operator
.
getOperand
(
)
)
;
if
(
operand
instanceof
CtLiteral
)
{
Object
object
=
(
(
CtLiteral
<
?
>
)
operand
)
.
getValue
(
)
;
CtLiteral
<
Object
>
res
=
operator
.
getFactory
(
)
.
Core
(
)
.
createLiteral
(
)
;
switch
(
operator
.
getKind
(
)
)
{
case
NOT
:
res
.
setValue
(
!
(
Boolean
)
object
)
;
break
;
case
NEG
:
res
.
setValue
(
convert
(
operator
.
getType
(
)
,
-
1
*
(
(
Number
)
object
)
.
longValue
(
)
)
)
;
break
;
default
:
throw
new
RuntimeException
(
"unsupported operator "
+
operator
.
getKind
(
)
)
;
}
setResult
(
res
)
;
return
;
}
setResult
(
operator
.
clone
(
)
)
;
}
