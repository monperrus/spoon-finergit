@SuppressWarnings("unchecked")
@Override
public
CtLocalVariable
<
T
>
getDeclaration
(
)
{
final
Factory
factory
=
getFactory
(
)
;
if
(
factory
==
null
)
{
return
null
;
}
final
String
simpleName
=
getSimpleName
(
)
;
if
(
parent
instanceof
CtLocalVariable
)
{
CtLocalVariable
<
T
>
var
=
(
CtLocalVariable
<
T
>
)
parent
;
if
(
simpleName
.
equals
(
var
.
getSimpleName
(
)
)
)
{
return
var
;
}
}
try
{
CtVariable
<
?
>
var
=
map
(
new
PotentialVariableDeclarationFunction
(
)
)
.
select
(
new
Filter
<
CtVariable
<
?
>
>
(
)
{
@Override
public
boolean
matches
(
CtVariable
<
?
>
var
)
{
return
simpleName
.
equals
(
var
.
getSimpleName
(
)
)
;
}
}
)
.
first
(
)
;
if
(
var
instanceof
CtLocalVariable
)
{
return
(
CtLocalVariable
<
T
>
)
var
;
}
if
(
var
!=
null
)
{
return
null
;
}
}
catch
(
ParentNotInitializedException
e
)
{
}
return
null
;
}
