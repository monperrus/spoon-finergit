/** 
 * Detect line separator used in origin code
 * @return character sequence used as line separator in `text`
 */
private
String
detectLineSeparator
(
String
text
)
{
if
(
text
!=
null
)
{
int
len
=
text
.
length
(
)
;
for
(
int
i
=
0
;
i
<
len
;
i
++
)
{
char
c
=
text
.
charAt
(
i
)
;
if
(
c
==
'\n'
)
{
return
LF
;
}
else
if
(
c
==
'\r'
)
{
i
++
;
if
(
i
<
len
&&
text
.
charAt
(
i
)
==
'\n'
)
{
return
CRLF
;
}
return
CR
;
}
}
}
return
System
.
getProperty
(
"line.separator"
)
;
}
