@Override
public
boolean
knowsHowToPrint
(
PrinterEvent
event
)
{
if
(
!
hasNextChildToken
(
)
)
{
return
false
;
}
if
(
event
instanceof
TokenPrinterEvent
)
{
TokenPrinterEvent
tpe
=
(
TokenPrinterEvent
)
event
;
if
(
tpe
.
isWhitespace
(
)
)
{
return
true
;
}
if
(
TokenType
.
KEYWORD
.
equals
(
tpe
.
getTokenType
(
)
)
)
{
for
(
SourceFragment
f
:
childFragments
)
{
if
(
f
.
getSourceCode
(
)
.
contains
(
tpe
.
getToken
(
)
)
)
{
return
true
;
}
}
return
false
;
}
else
if
(
tpe
.
getType
(
)
==
TokenType
.
IDENTIFIER
)
{
return
findIndexOfNextChildTokenByType
(
TokenType
.
IDENTIFIER
)
>=
0
;
}
return
findIndexOfNextChildTokenByValue
(
tpe
.
getToken
(
)
)
>=
0
;
}
CtRole
role
=
event
.
getRole
(
)
;
if
(
role
==
CtRole
.
COMMENT
)
{
return
true
;
}
if
(
role
!=
null
)
{
return
findIndexOfNextChildTokenOfRole
(
0
,
role
)
>=
0
;
}
else
if
(
event
.
getElement
(
)
instanceof
CtCompilationUnit
)
{
return
findIndexOfNextChildTokenOfElement
(
event
.
getElement
(
)
)
>=
0
;
}
throw
new
SpoonException
(
"Unexpected PrintEvent: "
+
event
.
getClass
(
)
)
;
}
