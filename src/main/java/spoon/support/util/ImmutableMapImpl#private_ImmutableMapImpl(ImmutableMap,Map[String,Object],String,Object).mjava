private
ImmutableMapImpl
(
ImmutableMap
parent
,
Map
<
String
,
Object
>
map
,
String
parameterName
,
Object
value
)
{
this
.
parent
=
null
;
Map
<
String
,
Object
>
copy
=
new
HashMap
<
>
(
map
.
size
(
)
+
1
)
;
copy
.
putAll
(
map
)
;
copy
.
put
(
parameterName
,
value
)
;
this
.
map
=
Collections
.
unmodifiableMap
(
copy
)
;
}
