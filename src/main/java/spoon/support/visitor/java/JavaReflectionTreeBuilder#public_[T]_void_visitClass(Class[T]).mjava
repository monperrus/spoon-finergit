@Override
public
<
T
>
void
visitClass
(
Class
<
T
>
clazz
)
{
final
CtClass
ctClass
=
factory
.
Core
(
)
.
createClass
(
)
;
ctClass
.
setSimpleName
(
clazz
.
getSimpleName
(
)
)
;
setModifier
(
ctClass
,
clazz
.
getModifiers
(
)
,
clazz
.
getDeclaringClass
(
)
)
;
enter
(
new
TypeRuntimeBuilderContext
(
clazz
,
ctClass
)
{
@Override
public
void
addConstructor
(
CtConstructor
<
?
>
ctConstructor
)
{
ctClass
.
addConstructor
(
ctConstructor
)
;
}
@Override
public
void
addTypeReference
(
CtRole
role
,
CtTypeReference
<
?
>
typeReference
)
{
switch
(
role
)
{
case
SUPER_TYPE
:
ctClass
.
setSuperclass
(
typeReference
)
;
return
;
}
super
.
addTypeReference
(
role
,
typeReference
)
;
}
}
)
;
super
.
visitClass
(
clazz
)
;
exit
(
)
;
contexts
.
peek
(
)
.
addType
(
ctClass
)
;
}
