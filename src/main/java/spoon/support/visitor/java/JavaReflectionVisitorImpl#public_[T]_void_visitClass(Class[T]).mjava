@Override
public
<
T
>
void
visitClass
(
Class
<
T
>
clazz
)
{
if
(
clazz
.
getPackage
(
)
!=
null
)
{
clazz
.
getPackage
(
)
;
}
try
{
for
(
TypeVariable
<
Class
<
T
>
>
generic
:
clazz
.
getTypeParameters
(
)
)
{
visitTypeParameter
(
generic
)
;
}
}
catch
(
NoClassDefFoundError
ignore
)
{
}
try
{
if
(
clazz
.
getGenericSuperclass
(
)
!=
null
&&
clazz
.
getGenericSuperclass
(
)
!=
Object
.
class
)
{
visitTypeReference
(
CtRole
.
SUPER_TYPE
,
clazz
.
getGenericSuperclass
(
)
)
;
}
}
catch
(
NoClassDefFoundError
ignore
)
{
}
try
{
for
(
Type
anInterface
:
clazz
.
getGenericInterfaces
(
)
)
{
visitTypeReference
(
CtRole
.
INTERFACE
,
anInterface
)
;
}
}
catch
(
NoClassDefFoundError
ignore
)
{
}
try
{
for
(
Annotation
annotation
:
clazz
.
getDeclaredAnnotations
(
)
)
{
visitAnnotation
(
annotation
)
;
}
}
catch
(
NoClassDefFoundError
ignore
)
{
}
try
{
for
(
Constructor
<
?
>
constructor
:
clazz
.
getDeclaredConstructors
(
)
)
{
if
(
constructor
.
isSynthetic
(
)
)
{
continue
;
}
visitConstructor
(
constructor
)
;
}
}
catch
(
NoClassDefFoundError
ignore
)
{
}
try
{
for
(
RtMethod
method
:
getDeclaredMethods
(
clazz
)
)
{
if
(
method
.
getMethod
(
)
.
isSynthetic
(
)
)
{
continue
;
}
visitMethod
(
method
)
;
}
}
catch
(
NoClassDefFoundError
ignore
)
{
}
try
{
for
(
Field
field
:
clazz
.
getDeclaredFields
(
)
)
{
if
(
field
.
isSynthetic
(
)
)
{
continue
;
}
visitField
(
field
)
;
}
}
catch
(
NoClassDefFoundError
ignore
)
{
}
try
{
for
(
Class
<
?
>
aClass
:
clazz
.
getDeclaredClasses
(
)
)
{
visitType
(
aClass
)
;
}
}
catch
(
NoClassDefFoundError
ignore
)
{
}
}
