@SuppressWarnings("unchecked")
public
CtExpression
<
T
>
apply
(
CtType
<
?
>
targetType
)
{
CtClass
<
?
ExpressionTemplate
<
?
>
>
c
=
Substitution
.
getTemplateCtClass
(
targetType
,
this
)
;
CtBlock
<
?
>
b
=
Substitution
.
substitute
(
targetType
,
this
,
getExpressionBlock
(
c
)
)
;
CtExpression
<
T
>
returnedExpression
=
(
(
CtReturn
<
T
>
)
b
.
getStatements
(
)
.
get
(
0
)
)
.
getReturnedExpression
(
)
;
returnedExpression
.
setParent
(
null
)
;
return
returnedExpression
;
}
