/** 
 * Utility method for testing: creates the model of the given `classesToBuild` from src/test/java and returns the factory and allows to configure the Launcher first using `config`
 */
public
static
Factory
build
(
Consumer
<
Launcher
>
config
,
Class
<
?
>
...
classesToBuild
)
throws
Exception
{
final
Launcher
launcher
=
new
Launcher
(
)
;
config
.
accept
(
launcher
)
;
SpoonModelBuilder
comp
=
launcher
.
createCompiler
(
)
;
for
(
Class
<
?
>
classToBuild
:
classesToBuild
)
{
comp
.
addInputSources
(
SpoonResourceHelper
.
resources
(
"./src/test/java/"
+
classToBuild
.
getName
(
)
.
replace
(
'.'
,
'/'
)
+
".java"
)
)
;
}
comp
.
build
(
)
;
return
comp
.
getFactory
(
)
;
}
