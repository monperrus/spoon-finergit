public
static
void
canBeBuilt
(
File
outputDirectoryFile
,
int
complianceLevel
,
boolean
noClasspath
)
{
final
Launcher
launcher
=
new
Launcher
(
)
;
final
Factory
factory
=
launcher
.
getFactory
(
)
;
factory
.
getEnvironment
(
)
.
setComplianceLevel
(
complianceLevel
)
;
factory
.
getEnvironment
(
)
.
setNoClasspath
(
noClasspath
)
;
final
SpoonModelBuilder
compiler
=
launcher
.
createCompiler
(
factory
)
;
compiler
.
addInputSource
(
outputDirectoryFile
)
;
try
{
compiler
.
build
(
)
;
}
catch
(
Exception
e
)
{
final
AssertionError
error
=
new
AssertionError
(
"Can't compile "
+
outputDirectoryFile
.
getName
(
)
+
" because "
+
e
.
getMessage
(
)
)
;
error
.
initCause
(
e
)
;
throw
error
;
}
}
