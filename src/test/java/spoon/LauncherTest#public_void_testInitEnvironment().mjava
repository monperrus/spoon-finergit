@Test
public
void
testInitEnvironment
(
)
throws
Exception
{
final
Launcher
launcher
=
new
Launcher
(
)
;
launcher
.
setArgs
(
"--tabs --tabsize 42 --compliance 5 --verbose --with-imports -r --lines -o spooned2 -i src/main/java --encoding UTF-16"
.
split
(
" "
)
)
;
launcher
.
processArguments
(
)
;
final
Environment
environment
=
launcher
.
getEnvironment
(
)
;
Assert
.
assertTrue
(
environment
.
isAutoImports
(
)
)
;
Assert
.
assertTrue
(
environment
.
isUsingTabulations
(
)
)
;
Assert
.
assertTrue
(
environment
.
isPreserveLineNumbers
(
)
)
;
Assert
.
assertEquals
(
42
,
environment
.
getTabulationSize
(
)
)
;
Assert
.
assertEquals
(
5
,
environment
.
getComplianceLevel
(
)
)
;
Assert
.
assertFalse
(
environment
.
isCopyResources
(
)
)
;
final
SpoonModelBuilder
builder
=
launcher
.
getModelBuilder
(
)
;
assertEquals
(
new
File
(
"spooned2"
)
,
builder
.
getSourceOutputDirectory
(
)
)
;
List
<
File
>
inputSources
=
new
ArrayList
<
>
(
builder
.
getInputSources
(
)
)
;
assertEquals
(
new
File
(
"src/main/java"
)
.
toURI
(
)
,
inputSources
.
get
(
0
)
.
toURI
(
)
)
;
assertEquals
(
"UTF-16"
,
builder
.
getEncoding
(
)
)
;
}
