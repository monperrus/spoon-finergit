@Test
public
void
mavenLauncherTestMultiModulesAndVariables
(
)
{
MavenLauncher
launcher
=
new
MavenLauncher
(
"./src/test/resources/maven-launcher/pac4j/pac4j-config"
,
MavenLauncher
.
SOURCE_TYPE
.
ALL_SOURCE
)
;
List
<
String
>
classpath
=
Arrays
.
asList
(
launcher
.
getEnvironment
(
)
.
getSourceClasspath
(
)
)
;
String
lookingFor
=
Paths
.
get
(
"junit"
,
"junit"
,
"4.12"
,
"junit-4.12.jar"
)
.
toString
(
)
;
boolean
findIt
=
false
;
for
(
String
s
:
classpath
)
{
findIt
=
findIt
||
s
.
contains
(
lookingFor
)
;
}
assertTrue
(
"Content of classpath: "
+
StringUtils
.
join
(
classpath
,
":"
)
,
findIt
)
;
}
