@Test
public
void
testForceRefresh
(
)
throws
FileNotFoundException
{
File
file
=
new
File
(
"./src/test/resources/maven-launcher/system-dependency/spoon.classpath.tmp"
)
;
new
PrintWriter
(
file
)
.
close
(
)
;
MavenLauncher
launcher
=
new
MavenLauncher
(
"./src/test/resources/maven-launcher/system-dependency"
,
MavenLauncher
.
SOURCE_TYPE
.
ALL_SOURCE
)
;
assertEquals
(
0
,
launcher
.
getEnvironment
(
)
.
getSourceClasspath
(
)
.
length
)
;
MavenLauncher
newLauncher
=
new
MavenLauncher
(
"./src/test/resources/maven-launcher/system-dependency"
,
MavenLauncher
.
SOURCE_TYPE
.
ALL_SOURCE
,
true
)
;
assertEquals
(
1
,
newLauncher
.
getEnvironment
(
)
.
getSourceClasspath
(
)
.
length
)
;
}
