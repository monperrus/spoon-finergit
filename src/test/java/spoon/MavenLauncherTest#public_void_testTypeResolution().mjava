@Test
public
void
testTypeResolution
(
)
{
MavenLauncher
launcher
=
new
MavenLauncher
(
"./pom.xml"
,
MavenLauncher
.
SOURCE_TYPE
.
ALL_SOURCE
)
;
launcher
.
buildModel
(
)
;
launcher
.
getModel
(
)
.
getRootPackage
(
)
.
accept
(
new
CtScanner
(
)
{
@Override
public
void
scan
(
CtElement
element
)
{
if
(
element
instanceof
CtTypeReference
)
{
CtTypeReference
ref
=
(
CtTypeReference
)
element
;
if
(
ref
.
getSimpleName
(
)
.
contains
(
"."
)
)
{
assertNotNull
(
"Reference to "
+
ref
.
getSimpleName
(
)
+
" point to unresolved type"
,
ref
.
getTypeDeclaration
(
)
)
;
}
}
super
.
scan
(
element
)
;
}
}
)
;
}
