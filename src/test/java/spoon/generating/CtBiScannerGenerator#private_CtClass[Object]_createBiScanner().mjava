private
CtClass
<
Object
>
createBiScanner
(
)
{
final
CtPackage
aPackage
=
getFactory
(
)
.
Package
(
)
.
getOrCreate
(
TARGET_BISCANNER_PACKAGE
)
;
final
CtClass
<
Object
>
target
=
getFactory
(
)
.
Class
(
)
.
get
(
GENERATING_BISCANNER
)
;
target
.
delete
(
)
;
target
.
setSimpleName
(
"CtBiScannerDefault"
)
;
target
.
addModifier
(
ModifierKind
.
PUBLIC
)
;
aPackage
.
addType
(
target
)
;
target
.
addComment
(
getFactory
(
)
.
Code
(
)
.
createComment
(
"autogenerated by "
+
getClass
(
)
.
getSimpleName
(
)
,
CtComment
.
CommentType
.
INLINE
)
)
;
final
List
<
CtTypeReference
>
references
=
target
.
getElements
(
new
TypeFilter
<
CtTypeReference
>
(
CtTypeReference
.
class
)
{
@Override
public
boolean
matches
(
CtTypeReference
reference
)
{
return
GENERATING_BISCANNER
.
equals
(
reference
.
getQualifiedName
(
)
)
;
}
}
)
;
for
(
CtTypeReference
reference
:
references
)
{
reference
.
setSimpleName
(
"CtBiScannerDefault"
)
;
reference
.
setPackage
(
aPackage
.
getReference
(
)
)
;
}
return
target
;
}
