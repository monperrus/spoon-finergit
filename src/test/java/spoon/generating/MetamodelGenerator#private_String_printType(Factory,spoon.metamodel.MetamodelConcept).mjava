private
static
String
printType
(
Factory
factory
,
spoon
.
metamodel
.
MetamodelConcept
type
)
{
Map
<
String
,
String
>
valuesMap
=
new
HashMap
<
>
(
)
;
valuesMap
.
put
(
"typeName"
,
type
.
getName
(
)
)
;
valuesMap
.
put
(
"ifaceName"
,
type
.
getMetamodelInterface
(
)
.
getQualifiedName
(
)
)
;
valuesMap
.
put
(
"implName"
,
type
.
getImplementationClass
(
)
.
getQualifiedName
(
)
)
;
valuesMap
.
put
(
"fields"
,
printFields
(
factory
,
type
)
)
;
StrSubstitutor
strSubst
=
new
StrSubstitutor
(
valuesMap
)
;
return
strSubst
.
replace
(
"types.add(new Type(\"${typeName}\", ${ifaceName}.class, ${implName}.class, fm -> fm\n"
+
"${fields}\n"
+
"));\n\n"
)
;
}
