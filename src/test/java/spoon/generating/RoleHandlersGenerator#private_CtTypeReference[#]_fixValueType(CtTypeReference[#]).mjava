private
CtTypeReference
<
?
>
fixValueType
(
CtTypeReference
<
?
>
valueType
)
{
valueType
=
valueType
.
clone
(
)
;
if
(
valueType
instanceof
CtTypeParameterReference
)
{
if
(
valueType
instanceof
CtWildcardReference
)
{
CtTypeReference
<
?
>
boundingType
=
(
(
CtTypeParameterReference
)
valueType
)
.
getBoundingType
(
)
;
if
(
boundingType
instanceof
CtTypeParameterReference
)
{
(
(
CtTypeParameterReference
)
valueType
)
.
setBoundingType
(
null
)
;
}
return
valueType
;
}
CtTypeParameterReference
tpr
=
(
CtTypeParameterReference
)
valueType
;
return
getFactory
(
)
.
createWildcardReference
(
)
;
}
for
(
int
i
=
0
;
i
<
valueType
.
getActualTypeArguments
(
)
.
size
(
)
;
i
++
)
{
valueType
.
getActualTypeArguments
(
)
.
set
(
i
,
fixValueType
(
valueType
.
getActualTypeArguments
(
)
.
get
(
i
)
)
)
;
}
valueType
=
valueType
.
box
(
)
;
return
valueType
;
}
