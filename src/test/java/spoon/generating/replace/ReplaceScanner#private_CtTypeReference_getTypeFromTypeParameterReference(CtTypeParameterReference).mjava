private
CtTypeReference
getTypeFromTypeParameterReference
(
CtTypeParameterReference
ctTypeParameterRef
)
{
final
CtMethod
parentMethod
=
ctTypeParameterRef
.
getParent
(
CtMethod
.
class
)
;
for
(
CtTypeParameter
formal
:
parentMethod
.
getFormalCtTypeParameters
(
)
)
{
if
(
formal
.
getSimpleName
(
)
.
equals
(
ctTypeParameterRef
.
getSimpleName
(
)
)
)
{
return
(
(
CtTypeParameterReference
)
formal
)
.
getBoundingType
(
)
;
}
}
final
CtInterface
parentInterface
=
ctTypeParameterRef
.
getParent
(
CtInterface
.
class
)
;
for
(
CtTypeParameter
formal
:
parentInterface
.
getFormalCtTypeParameters
(
)
)
{
if
(
formal
.
getSimpleName
(
)
.
equals
(
ctTypeParameterRef
.
getSimpleName
(
)
)
)
{
return
formal
.
getReference
(
)
.
getBoundingType
(
)
;
}
}
throw
new
SpoonException
(
"Can't get the type of the CtTypeParameterReference "
+
ctTypeParameterRef
)
;
}
