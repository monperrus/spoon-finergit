@Test
public
void
testInterruptAProcessor
(
)
throws
Exception
{
final
Launcher
launcher
=
new
Launcher
(
)
;
launcher
.
getEnvironment
(
)
.
setNoClasspath
(
true
)
;
launcher
.
addInputResource
(
"./src/tets/java/spoon/processing/"
)
;
launcher
.
setSourceOutputDirectory
(
"./target/trash"
)
;
final
MyProcessor
processor
=
new
MyProcessor
(
)
;
launcher
.
addProcessor
(
processor
)
;
try
{
launcher
.
run
(
)
;
}
catch
(
ProcessInterruption
e
)
{
fail
(
"ProcessInterrupt exception must be catch in the ProcessingManager."
)
;
}
assertFalse
(
processor
.
isShouldStayAtFalse
(
)
)
;
}
