@Test
public
void
testPushToStackChanges
(
)
throws
Exception
{
final
Launcher
launcher
=
new
Launcher
(
)
;
launcher
.
getEnvironment
(
)
.
setNoClasspath
(
true
)
;
launcher
.
addInputResource
(
"./src/main/java/spoon/support/reflect/CtModifierHandler.java"
)
;
launcher
.
addInputResource
(
"./src/main/java/spoon/support/reflect/code"
)
;
launcher
.
addInputResource
(
"./src/main/java/spoon/support/reflect/declaration"
)
;
launcher
.
addInputResource
(
"./src/main/java/spoon/support/reflect/reference"
)
;
launcher
.
addInputResource
(
"./src/main/java/spoon/support/reflect/internal"
)
;
launcher
.
addInputResource
(
"./src/test/java/spoon/reflect/ast/AstCheckerTest.java"
)
;
launcher
.
buildModel
(
)
;
final
PushStackInIntercessionChecker
checker
=
new
PushStackInIntercessionChecker
(
)
;
checker
.
scan
(
launcher
.
getModel
(
)
.
getRootPackage
(
)
)
;
if
(
!
checker
.
result
.
isEmpty
(
)
)
{
System
.
err
.
println
(
checker
.
count
)
;
throw
new
AssertionError
(
checker
.
result
)
;
}
}
