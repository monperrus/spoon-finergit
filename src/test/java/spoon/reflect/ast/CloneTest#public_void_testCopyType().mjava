@Test
public
void
testCopyType
(
)
throws
Exception
{
Factory
factory
=
ModelUtils
.
build
(
new
File
(
"./src/main/java/spoon/reflect/visitor/DefaultJavaPrettyPrinter.java"
)
)
;
CtType
<
?
>
intialElement
=
factory
.
Type
(
)
.
get
(
DefaultJavaPrettyPrinter
.
class
)
;
CtType
<
?
>
cloneTarget
=
intialElement
.
copyType
(
)
;
assertEquals
(
"spoon.reflect.visitor.DefaultJavaPrettyPrinterCopy"
,
cloneTarget
.
getQualifiedName
(
)
)
;
for
(
CtReference
reference
:
cloneTarget
.
getElements
(
new
TypeFilter
<
>
(
CtReference
.
class
)
)
)
{
CtElement
declaration
=
reference
.
getDeclaration
(
)
;
if
(
declaration
==
null
)
{
continue
;
}
if
(
declaration
.
hasParent
(
intialElement
)
)
{
fail
(
)
;
}
}
}
