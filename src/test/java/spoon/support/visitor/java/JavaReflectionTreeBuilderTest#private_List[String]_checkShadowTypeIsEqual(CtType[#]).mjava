private
List
<
String
>
checkShadowTypeIsEqual
(
CtType
<
?
>
type
)
{
if
(
type
==
null
)
{
return
Collections
.
emptyList
(
)
;
}
Factory
shadowFactory
=
createFactory
(
)
;
CtTypeReference
<
?
>
shadowTypeRef
=
shadowFactory
.
Type
(
)
.
createReference
(
type
.
getActualClass
(
)
)
;
CtType
<
?
>
shadowType
=
shadowTypeRef
.
getTypeDeclaration
(
)
;
assertFalse
(
type
.
isShadow
(
)
)
;
assertTrue
(
shadowType
.
isShadow
(
)
)
;
ShadowEqualsVisitor
sev
=
new
ShadowEqualsVisitor
(
new
HashSet
<
>
(
Arrays
.
asList
(
CtRole
.
STATEMENT
,
CtRole
.
DEFAULT_EXPRESSION
,
CtRole
.
COMMENT
)
)
)
;
return
sev
.
checkDiffs
(
type
,
shadowType
)
;
}
