@Test
public
void
testScannerArrayReference
(
)
throws
Exception
{
final
CtType
<
URLClassLoader
>
aType
=
new
JavaReflectionTreeBuilder
(
createFactory
(
)
)
.
scan
(
URLClassLoader
.
class
)
;
assertNotNull
(
aType
)
;
final
CtMethod
<
Object
>
aMethod
=
aType
.
getMethod
(
"getURLs"
)
;
assertTrue
(
aMethod
.
getType
(
)
instanceof
CtArrayTypeReference
)
;
final
CtArrayTypeReference
<
Object
>
arrayRef
=
(
CtArrayTypeReference
<
Object
>
)
aMethod
.
getType
(
)
;
assertNull
(
arrayRef
.
getPackage
(
)
)
;
assertNull
(
arrayRef
.
getDeclaringType
(
)
)
;
assertNotNull
(
arrayRef
.
getComponentType
(
)
)
;
}
