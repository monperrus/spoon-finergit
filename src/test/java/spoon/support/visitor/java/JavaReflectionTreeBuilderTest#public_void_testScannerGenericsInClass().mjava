@Test
public
void
testScannerGenericsInClass
(
)
throws
Exception
{
final
CtType
<
ComparableComparatorBug
>
aType
=
new
JavaReflectionTreeBuilder
(
createFactory
(
)
)
.
scan
(
ComparableComparatorBug
.
class
)
;
assertNotNull
(
aType
)
;
assertEquals
(
1
,
aType
.
getFormalTypeParameters
(
)
.
size
(
)
)
;
assertTrue
(
aType
.
getFormalTypeParameters
(
)
.
get
(
0
)
instanceof
CtTypeParameterReference
)
;
CtTypeParameterReference
ctTypeParameterReference
=
(
CtTypeParameterReference
)
aType
.
getFormalTypeParameters
(
)
.
get
(
0
)
;
assertEquals
(
"E extends java.lang.Comparable<? super E>"
,
ctTypeParameterReference
.
toString
(
)
)
;
assertEquals
(
1
,
ctTypeParameterReference
.
getBoundingType
(
)
.
getActualTypeArguments
(
)
.
size
(
)
)
;
assertTrue
(
ctTypeParameterReference
.
getBoundingType
(
)
.
getActualTypeArguments
(
)
.
get
(
0
)
instanceof
CtTypeParameterReference
)
;
}
