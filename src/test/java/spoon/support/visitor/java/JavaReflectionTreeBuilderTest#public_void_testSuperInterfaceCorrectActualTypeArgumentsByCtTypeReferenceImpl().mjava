@Test
public
void
testSuperInterfaceCorrectActualTypeArgumentsByCtTypeReferenceImpl
(
)
{
TypeFactory
typeFactory
=
createFactory
(
)
.
Type
(
)
;
CtTypeReference
<
?
>
aTypeRef
=
typeFactory
.
createReference
(
CtField
.
class
)
;
CtType
aType
=
aTypeRef
.
getTypeDeclaration
(
)
;
for
(
CtTypeReference
<
?
>
ifaceRef
:
aType
.
getSuperInterfaces
(
)
)
{
for
(
CtTypeReference
<
?
>
actTypeRef
:
ifaceRef
.
getActualTypeArguments
(
)
)
{
if
(
actTypeRef
instanceof
CtTypeParameterReference
)
{
CtTypeParameterReference
actTypeParamRef
=
(
CtTypeParameterReference
)
actTypeRef
;
CtTypeParameter
typeParam
=
actTypeParamRef
.
getDeclaration
(
)
;
assertNotNull
(
typeParam
)
;
assertSame
(
aType
,
typeParam
.
getTypeParameterDeclarer
(
)
)
;
}
}
}
}
