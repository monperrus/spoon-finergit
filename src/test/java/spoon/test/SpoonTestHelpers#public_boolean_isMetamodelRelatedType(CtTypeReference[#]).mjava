/** 
 * returns true if typeReference point to a class of the metamodel or a List/set of a class of the metamodel.
 */
public
static
boolean
isMetamodelRelatedType
(
CtTypeReference
<
?
>
typeReference
)
{
CtTypeReference
<
Object
>
ctElRef
=
typeReference
.
getFactory
(
)
.
Code
(
)
.
createCtTypeReference
(
CtElement
.
class
)
;
if
(
typeReference
.
isSubtypeOf
(
ctElRef
)
)
{
return
true
;
}
if
(
!
typeReference
.
getActualTypeArguments
(
)
.
isEmpty
(
)
&&
"?"
.
equals
(
typeReference
.
getActualTypeArguments
(
)
.
get
(
0
)
.
getQualifiedName
(
)
)
)
{
return
false
;
}
return
(
!
typeReference
.
getActualTypeArguments
(
)
.
isEmpty
(
)
&&
typeReference
.
getActualTypeArguments
(
)
.
get
(
0
)
.
getTypeDeclaration
(
)
.
isSubtypeOf
(
ctElRef
)
)
;
}
