@Test
public
void
testGetValueAsObject
(
)
{
CtClass
<
?
>
cl
=
Launcher
.
parseClass
(
"public class C { "
+
"	@SuppressWarnings(\"int\"+Integer.SIZE) void i() {} "
+
"	@SuppressWarnings(\"str\"+java.io.File.pathSeparator) void s() {} "
+
"}"
)
;
CtAnnotation
<
?
>
annot_i
=
cl
.
getMethodsByName
(
"i"
)
.
get
(
0
)
.
getAnnotations
(
)
.
get
(
0
)
;
CtAnnotation
<
?
>
annot_s
=
cl
.
getMethodsByName
(
"s"
)
.
get
(
0
)
.
getAnnotations
(
)
.
get
(
0
)
;
assertEquals
(
"[int"
+
Integer
.
SIZE
+
"]"
,
Arrays
.
toString
(
(
Object
[
]
)
annot_i
.
getValueAsObject
(
"value"
)
)
)
;
assertEquals
(
"[str"
+
File
.
pathSeparator
+
"]"
,
Arrays
.
toString
(
(
Object
[
]
)
annot_s
.
getValueAsObject
(
"value"
)
)
)
;
}
