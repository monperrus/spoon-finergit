@Test
public
void
testPersistenceProperty
(
)
throws
Exception
{
CtSimpleType
<
?
>
type
=
build
(
"spoon.test.annotation"
,
"PersistenceProperty"
)
;
assertEquals
(
"PersistenceProperty"
,
type
.
getSimpleName
(
)
)
;
assertEquals
(
2
,
type
.
getAnnotations
(
)
.
size
(
)
)
;
CtAnnotation
<
Target
>
a1
=
type
.
getAnnotation
(
type
.
getFactory
(
)
.
Type
(
)
.
createReference
(
Target
.
class
)
)
;
assertNotNull
(
a1
)
;
CtAnnotation
<
Retention
>
a2
=
type
.
getAnnotation
(
type
.
getFactory
(
)
.
Type
(
)
.
createReference
(
Retention
.
class
)
)
;
assertNotNull
(
a2
)
;
assertTrue
(
a1
.
getElementValues
(
)
.
containsKey
(
"value"
)
)
;
assertTrue
(
a2
.
getElementValues
(
)
.
containsKey
(
"value"
)
)
;
}
