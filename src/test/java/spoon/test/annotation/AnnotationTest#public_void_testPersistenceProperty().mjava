@Test
public
void
testPersistenceProperty
(
)
throws
Exception
{
final
Launcher
launcher
=
new
Launcher
(
)
;
launcher
.
addInputResource
(
"./src/test/java/spoon/test/annotation/testclasses/PersistenceProperty.java"
)
;
launcher
.
buildModel
(
)
;
Factory
factory
=
launcher
.
getFactory
(
)
;
CtType
<
?
>
type
=
factory
.
Type
(
)
.
get
(
"spoon.test.annotation.testclasses.PersistenceProperty"
)
;
assertEquals
(
"PersistenceProperty"
,
type
.
getSimpleName
(
)
)
;
assertEquals
(
2
,
type
.
getAnnotations
(
)
.
size
(
)
)
;
CtAnnotation
<
Target
>
a1
=
type
.
getAnnotation
(
type
.
getFactory
(
)
.
Type
(
)
.
createReference
(
Target
.
class
)
)
;
assertNotNull
(
a1
)
;
CtAnnotation
<
Retention
>
a2
=
type
.
getAnnotation
(
type
.
getFactory
(
)
.
Type
(
)
.
createReference
(
Retention
.
class
)
)
;
assertNotNull
(
a2
)
;
assertTrue
(
a1
.
getValues
(
)
.
containsKey
(
"value"
)
)
;
assertTrue
(
a2
.
getValues
(
)
.
containsKey
(
"value"
)
)
;
}
