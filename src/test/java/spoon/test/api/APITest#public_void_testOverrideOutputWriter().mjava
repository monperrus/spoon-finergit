@Test
public
void
testOverrideOutputWriter
(
)
throws
Exception
{
final
List
<
Object
>
l
=
new
ArrayList
<
Object
>
(
)
;
Launcher
spoon
=
new
Launcher
(
)
{
@Override
public
JavaOutputProcessor
createOutputWriter
(
File
sourceOutputDir
,
Environment
environment
)
{
return
new
JavaOutputProcessor
(
)
{
@Override
public
void
process
(
CtNamedElement
e
)
{
l
.
add
(
e
)
;
}
@Override
public
void
init
(
)
{
}
}
;
}
}
;
spoon
.
run
(
new
String
[
]
{
"-i"
,
"src/test/resources/spoon/test/api/"
,
"-o"
,
"fancy/fake/apitest"
}
)
;
Assert
.
assertEquals
(
3
,
l
.
size
(
)
)
;
}
