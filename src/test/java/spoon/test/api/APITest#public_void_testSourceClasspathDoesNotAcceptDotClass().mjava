@Test
public
void
testSourceClasspathDoesNotAcceptDotClass
(
)
{
final
Launcher
launcher
=
new
Launcher
(
)
;
launcher
.
addInputResource
(
"./src/test/java/spoon/test/api/testclasses/Bar.java"
)
;
launcher
.
setBinaryOutputDirectory
(
"./target/spoon-setscp"
)
;
launcher
.
getEnvironment
(
)
.
setShouldCompile
(
true
)
;
launcher
.
run
(
)
;
final
Launcher
launcher2
=
new
Launcher
(
)
;
try
{
launcher2
.
getEnvironment
(
)
.
setSourceClasspath
(
new
String
[
]
{
"./target/spoon-setscp/spoon/test/api/testclasses/Bar.class"
}
)
;
fail
(
)
;
}
catch
(
Exception
e
)
{
assertTrue
(
e
instanceof
InvalidClassPathException
)
;
assertTrue
(
e
.
getMessage
(
)
.
contains
(
".class files are not accepted in source classpath."
)
)
;
}
}
