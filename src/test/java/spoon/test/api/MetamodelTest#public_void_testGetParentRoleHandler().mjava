@Test
public
void
testGetParentRoleHandler
(
)
{
Launcher
launcher
=
new
Launcher
(
)
;
Factory
factory
=
launcher
.
getFactory
(
)
;
CtClass
<
?
>
type
=
(
CtClass
)
factory
.
Core
(
)
.
create
(
CtClass
.
class
)
;
CtField
<
?
>
field
=
factory
.
Field
(
)
.
create
(
type
,
Collections
.
emptySet
(
)
,
factory
.
Type
(
)
.
booleanPrimitiveType
(
)
,
"someField"
)
;
assertSame
(
type
,
field
.
getDeclaringType
(
)
)
;
assertSame
(
CtRole
.
TYPE_MEMBER
,
RoleHandlerHelper
.
getRoleHandlerWrtParent
(
field
)
.
getRole
(
)
)
;
assertSame
(
CtRole
.
TYPE_MEMBER
,
field
.
getRoleInParent
(
)
)
;
field
.
setParent
(
null
)
;
assertNull
(
RoleHandlerHelper
.
getRoleHandlerWrtParent
(
field
)
)
;
assertNull
(
RoleHandlerHelper
.
getRoleHandlerWrtParent
(
type
)
)
;
}
