@Test
public
void
testMetamodelWithoutSources
(
)
{
SpoonMetaModel
runtimeMM
=
new
SpoonMetaModel
(
)
;
Collection
<
MetamodelConcept
>
concepts
=
runtimeMM
.
getConcepts
(
)
;
SpoonMetaModel
sourceBasedMM
=
new
SpoonMetaModel
(
new
File
(
"src/main/java"
)
)
;
Map
<
String
,
MetamodelConcept
>
expectedConceptsByName
=
new
HashMap
<
>
(
)
;
sourceBasedMM
.
getConcepts
(
)
.
forEach
(
c
->
{
expectedConceptsByName
.
put
(
c
.
getName
(
)
,
c
)
;
}
)
;
for
(
MetamodelConcept
runtimeConcept
:
concepts
)
{
MetamodelConcept
expectedConcept
=
expectedConceptsByName
.
remove
(
runtimeConcept
.
getName
(
)
)
;
assertNotNull
(
expectedConcept
)
;
assertConceptsEqual
(
expectedConcept
,
runtimeConcept
)
;
}
assertEquals
(
0
,
expectedConceptsByName
.
size
(
)
)
;
}
