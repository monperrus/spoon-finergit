@Test
public
void
testGetStaticDependency
(
)
{
Launcher
spoon
=
new
Launcher
(
)
;
final
Factory
factory
=
spoon
.
getFactory
(
)
;
factory
.
getEnvironment
(
)
.
setAutoImports
(
false
)
;
spoon
.
addInputResource
(
"./src/test/java/spoon/test/api/testclasses/"
)
;
spoon
.
getEnvironment
(
)
.
setSourceOutputDirectory
(
new
File
(
"target/spooned/apitest"
)
)
;
spoon
.
run
(
)
;
CtTypeReference
<
?
>
expectedType
=
factory
.
Type
(
)
.
createReference
(
javax
.
sound
.
sampled
.
AudioFormat
.
Encoding
.
class
)
;
CtClass
<
?
>
clazz
=
factory
.
Class
(
)
.
get
(
Bar
.
class
)
;
CtMethod
<
?
>
method
=
clazz
.
getMethodsByName
(
"doSomething"
)
.
get
(
0
)
;
CtReturn
<
?
>
ctReturn
=
method
.
getElements
(
new
TypeFilter
<
CtReturn
<
?
>
>
(
CtReturn
.
class
)
)
.
get
(
0
)
;
assertTrue
(
ctReturn
.
getReferencedTypes
(
)
.
contains
(
expectedType
)
)
;
}
