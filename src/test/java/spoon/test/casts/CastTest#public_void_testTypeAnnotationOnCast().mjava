@Test
public
void
testTypeAnnotationOnCast
(
)
throws
Exception
{
final
CtType
<
Castings
>
aCastings
=
buildClass
(
Castings
.
class
)
;
final
CtLocalVariable
local
=
aCastings
.
getMethod
(
"bar"
)
.
getElements
(
new
TypeFilter
<
>
(
CtLocalVariable
.
class
)
)
.
get
(
0
)
;
assertEquals
(
1
,
(
(
CtTypeReference
)
local
.
getDefaultExpression
(
)
.
getTypeCasts
(
)
.
get
(
0
)
)
.
getAnnotations
(
)
.
size
(
)
)
;
assertEquals
(
"((java.lang.@spoon.test.casts.Castings.TypeAnnotation(integer = 1)"
+
System
.
lineSeparator
(
)
+
"String) (\"\"))"
,
local
.
getDefaultExpression
(
)
.
toString
(
)
)
;
}
