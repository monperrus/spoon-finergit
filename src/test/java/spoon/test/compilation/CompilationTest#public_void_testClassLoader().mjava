public
void
testClassLoader
(
)
throws
Exception
{
Launcher
launcher
=
new
Launcher
(
)
;
try
{
Class
.
forName
(
"spoontest.a.ClassA"
)
;
fail
(
)
;
}
catch
(
ClassNotFoundException
expected
)
{
}
try
{
launcher
.
getEnvironment
(
)
.
getInputClassLoader
(
)
.
loadClass
(
"spoontest.a.ClassA"
)
;
fail
(
)
;
}
catch
(
ClassNotFoundException
expected
)
{
}
launcher
.
getEnvironment
(
)
.
setSourceClasspath
(
new
String
[
]
{
"src/test/resources/reference-test-2/ReferenceTest2.jar"
}
)
;
Class
c
=
launcher
.
getEnvironment
(
)
.
getInputClassLoader
(
)
.
loadClass
(
"spoontest.a.ClassA"
)
;
assertEquals
(
"spoontest.a.ClassA"
,
c
.
getName
(
)
)
;
}
