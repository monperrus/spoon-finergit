@Test
public
void
testURLClassLoader
(
)
throws
Exception
{
String
expected
=
"target/classes/"
;
File
f
=
new
File
(
expected
)
;
URL
[
]
urls
=
{
f
.
toURL
(
)
}
;
URLClassLoader
urlClassLoader
=
new
URLClassLoader
(
urls
)
;
Launcher
launcher
=
new
Launcher
(
)
;
launcher
.
getEnvironment
(
)
.
setInputClassLoader
(
urlClassLoader
)
;
String
[
]
sourceClassPath
=
launcher
.
getEnvironment
(
)
.
getSourceClasspath
(
)
;
assertEquals
(
1
,
sourceClassPath
.
length
)
;
String
tail
=
sourceClassPath
[
0
]
.
substring
(
sourceClassPath
[
0
]
.
length
(
)
-
expected
.
length
(
)
)
;
assertEquals
(
expected
,
tail
)
;
}
