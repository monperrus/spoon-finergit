@Test
public
void
testURLClassLoaderWithOtherResourcesThanOnlyFiles
(
)
throws
Exception
{
String
file
=
"target/classes/"
;
String
distantJar
=
"http://central.maven.org/maven2/fr/inria/gforge/spoon/spoon-core/5.8.0/spoon-core-5.8.0.jar"
;
File
f
=
new
File
(
file
)
;
URL
url
=
new
URL
(
distantJar
)
;
URL
[
]
urls
=
{
f
.
toURL
(
)
,
url
}
;
URLClassLoader
urlClassLoader
=
new
URLClassLoader
(
urls
)
;
Launcher
launcher
=
new
Launcher
(
)
;
try
{
launcher
.
getEnvironment
(
)
.
setInputClassLoader
(
urlClassLoader
)
;
fail
(
)
;
}
catch
(
SpoonException
e
)
{
assertTrue
(
e
.
getMessage
(
)
.
contains
(
"Spoon does not support a URLClassLoader containing other resources than local file."
)
)
;
}
}
