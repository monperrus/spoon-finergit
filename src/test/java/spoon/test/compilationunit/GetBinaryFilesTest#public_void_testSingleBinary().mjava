@Test
public
void
testSingleBinary
(
)
{
final
String
input
=
"./src/test/resources/compilation/compilation-tests/IBar.java"
;
final
Launcher
launcher
=
new
Launcher
(
)
;
launcher
.
addInputResource
(
input
)
;
launcher
.
setBinaryOutputDirectory
(
tmpFolder
.
getRoot
(
)
)
;
launcher
.
buildModel
(
)
;
launcher
.
getModelBuilder
(
)
.
compile
(
SpoonModelBuilder
.
InputType
.
FILES
)
;
final
Map
<
String
,
CompilationUnit
>
cus
=
launcher
.
getFactory
(
)
.
CompilationUnit
(
)
.
getMap
(
)
;
assertEquals
(
1
,
cus
.
size
(
)
)
;
final
List
<
File
>
binaries
=
cus
.
values
(
)
.
iterator
(
)
.
next
(
)
.
getBinaryFiles
(
)
;
assertEquals
(
1
,
binaries
.
size
(
)
)
;
assertEquals
(
"IBar.class"
,
binaries
.
get
(
0
)
.
getName
(
)
)
;
assertTrue
(
binaries
.
get
(
0
)
.
isFile
(
)
)
;
}
