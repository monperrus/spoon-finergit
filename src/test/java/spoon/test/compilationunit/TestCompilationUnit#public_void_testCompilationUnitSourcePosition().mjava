@Test
public
void
testCompilationUnitSourcePosition
(
)
throws
IOException
{
File
resource
=
new
File
(
"./src/test/java/spoon/test/model/Foo.java"
)
;
final
Launcher
launcher
=
new
Launcher
(
)
;
launcher
.
addInputResource
(
resource
.
getPath
(
)
)
;
launcher
.
buildModel
(
)
;
CompilationUnit
cu
=
launcher
.
getFactory
(
)
.
CompilationUnit
(
)
.
getOrCreate
(
resource
.
getCanonicalPath
(
)
)
;
SourcePosition
sp
=
cu
.
getPosition
(
)
;
assertNotNull
(
sp
)
;
assertEquals
(
0
,
sp
.
getSourceStart
(
)
)
;
assertEquals
(
cu
.
getOriginalSourceCode
(
)
.
length
(
)
,
sp
.
getSourceEnd
(
)
+
1
)
;
assertSame
(
cu
,
sp
.
getCompilationUnit
(
)
)
;
}
