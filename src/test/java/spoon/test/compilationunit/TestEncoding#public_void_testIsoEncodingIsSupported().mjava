@Test
public
void
testIsoEncodingIsSupported
(
)
throws
Exception
{
File
resource
=
new
File
(
"./src/test/resources/noclasspath/IsoEncoding.java"
)
;
String
content
=
new
String
(
Files
.
readAllBytes
(
resource
.
toPath
(
)
)
,
"ISO-8859-1"
)
;
Launcher
launcher
=
new
Launcher
(
)
;
launcher
.
addInputResource
(
resource
.
getPath
(
)
)
;
launcher
.
getEnvironment
(
)
.
setNoClasspath
(
true
)
;
launcher
.
getEnvironment
(
)
.
setEncoding
(
Charset
.
forName
(
"ISO-8859-1"
)
)
;
launcher
.
buildModel
(
)
;
CompilationUnit
cu
=
launcher
.
getFactory
(
)
.
CompilationUnit
(
)
.
create
(
resource
.
getPath
(
)
)
;
assertEquals
(
content
,
cu
.
getOriginalSourceCode
(
)
)
;
}
