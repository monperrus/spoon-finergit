@Test
public
void
testBlockInConditionAndLoop
(
)
throws
Exception
{
final
CtType
<
Foo
>
aFoo
=
ModelUtils
.
buildClass
(
Foo
.
class
)
;
final
List
<
CtIf
>
conditions
=
aFoo
.
getMethod
(
"m3"
)
.
getElements
(
new
TypeFilter
<
CtIf
>
(
CtIf
.
class
)
)
;
assertEquals
(
4
,
conditions
.
size
(
)
)
;
for
(
CtIf
condition
:
conditions
)
{
assertTrue
(
condition
.
getThenStatement
(
)
instanceof
CtBlock
)
;
if
(
condition
.
getElseStatement
(
)
!=
null
&&
!
(
condition
.
getElseStatement
(
)
instanceof
CtIf
)
)
{
assertTrue
(
condition
.
getElseStatement
(
)
instanceof
CtBlock
)
;
}
}
}
