@Test
public
void
testNoThenBlockBug
(
)
throws
Exception
{
final
CtType
aFoo
=
ModelUtils
.
buildClass
(
Foo2
.
class
)
;
CtMethod
<
Object
>
method
=
aFoo
.
getMethod
(
"bug"
)
;
final
List
<
CtIf
>
conditions
=
method
.
getElements
(
new
TypeFilter
<
>
(
CtIf
.
class
)
)
;
assertNull
(
conditions
.
get
(
0
)
.
getThenStatement
(
)
)
;
assertNotNull
(
conditions
.
get
(
0
)
.
getElseStatement
(
)
)
;
assertEquals
(
"System.out.println();"
,
conditions
.
get
(
0
)
.
getElseStatement
(
)
.
prettyprint
(
)
.
trim
(
)
)
;
}
