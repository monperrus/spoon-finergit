@Test
public
void
testTypeAnnotationOnExceptionDeclaredInConstructors
(
)
throws
Exception
{
final
CtConstructor
<
?
>
aConstructor
=
aClass
.
getConstructor
(
factory
.
Type
(
)
.
OBJECT
)
;
assertEquals
(
1
,
aConstructor
.
getThrownTypes
(
)
.
size
(
)
)
;
Set
<
CtTypeReference
<
?
Throwable
>
>
thrownTypes
=
aConstructor
.
getThrownTypes
(
)
;
final
CtTypeReference
[
]
thrownTypesReference
=
thrownTypes
.
toArray
(
new
CtTypeReference
[
]
)
;
assertEquals
(
1
,
thrownTypesReference
.
length
)
;
assertEquals
(
1
,
thrownTypesReference
[
0
]
.
getAnnotations
(
)
.
size
(
)
)
;
assertEquals
(
"java.lang.@spoon.test.constructor.testclasses.Tacos.TypeAnnotation(integer = 1)"
+
System
.
lineSeparator
(
)
+
"Exception"
,
thrownTypesReference
[
0
]
.
toString
(
)
)
;
}
