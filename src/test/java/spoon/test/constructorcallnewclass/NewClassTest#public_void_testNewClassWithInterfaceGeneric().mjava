@Test
public
void
testNewClassWithInterfaceGeneric
(
)
throws
Exception
{
final
CtNewClass
<
?
>
newClass
=
newClasses
.
get
(
2
)
;
assertType
(
Foo
.
Tacos
.
class
,
newClass
)
;
assertIsConstructor
(
newClass
.
getExecutable
(
)
)
;
assertHasParameters
(
0
,
newClass
.
getArguments
(
)
)
;
assertIsAnonymous
(
newClass
.
getAnonymousClass
(
)
)
;
assertSuperInterface
(
Foo
.
Tacos
.
class
,
newClass
.
getAnonymousClass
(
)
)
;
CtTypeReference
[
]
ctTypeReferences
=
newClass
.
getAnonymousClass
(
)
.
getSuperInterfaces
(
)
.
toArray
(
new
CtTypeReference
[
]
)
;
assertEquals
(
"Super interface is typed by the class of the constructor"
,
String
.
class
,
ctTypeReferences
[
0
]
.
getActualTypeArguments
(
)
.
get
(
0
)
.
getActualClass
(
)
)
;
}
