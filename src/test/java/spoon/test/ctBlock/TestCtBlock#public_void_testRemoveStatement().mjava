@Test
public
void
testRemoveStatement
(
)
{
Launcher
spoon
=
new
Launcher
(
)
;
spoon
.
addInputResource
(
"./src/test/java/spoon/test/ctBlock/testclasses/Toto.java"
)
;
spoon
.
buildModel
(
)
;
List
<
CtMethod
>
methods
=
spoon
.
getModel
(
)
.
getElements
(
new
NamedElementFilter
<
>
(
CtMethod
.
class
,
"foo"
)
)
;
assertEquals
(
1
,
methods
.
size
(
)
)
;
CtMethod
foo
=
methods
.
get
(
0
)
;
CtBlock
block
=
foo
.
getBody
(
)
;
CtStatement
lastStatement
=
block
.
getLastStatement
(
)
;
assertEquals
(
"i++"
,
lastStatement
.
toString
(
)
)
;
block
.
removeStatement
(
lastStatement
)
;
CtStatement
newLastStatement
=
block
.
getLastStatement
(
)
;
assertNotSame
(
newLastStatement
,
lastStatement
)
;
assertTrue
(
newLastStatement
instanceof
CtIf
)
;
}
