@Test
public
void
insertBeforeStatementInSwitchCaseWithoutException
(
)
throws
Exception
{
String
packageName
=
"spoon.test.ctCase.testclasses"
;
String
className
=
"ClassWithSwitchExample"
;
Factory
factory
=
factoryFor
(
packageName
,
className
)
;
List
<
CtCase
>
elements
=
elementsOfType
(
CtCase
.
class
,
factory
)
;
assertEquals
(
3
,
elements
.
size
(
)
)
;
CtCase
firstCase
=
elements
.
get
(
0
)
;
List
<
CtStatement
>
statements
=
firstCase
.
getStatements
(
)
;
assertEquals
(
2
,
statements
.
size
(
)
)
;
CtStatement
newStatement
=
factory
.
Code
(
)
.
createCodeSnippetStatement
(
"result = 0"
)
;
statements
.
get
(
0
)
.
insertBefore
(
newStatement
)
;
statements
=
firstCase
.
getStatements
(
)
;
assertEquals
(
3
,
statements
.
size
(
)
)
;
assertSame
(
statements
.
get
(
0
)
,
newStatement
)
;
}
