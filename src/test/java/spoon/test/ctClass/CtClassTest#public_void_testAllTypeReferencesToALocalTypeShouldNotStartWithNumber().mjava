@Test
public
void
testAllTypeReferencesToALocalTypeShouldNotStartWithNumber
(
)
throws
Exception
{
final
CtType
<
Pozole
>
aPozole
=
buildClass
(
Pozole
.
class
)
;
final
CtClass
<
?
>
cook
=
aPozole
.
getNestedType
(
"1Cook"
)
;
assertEquals
(
"1Cook"
,
cook
.
getSimpleName
(
)
)
;
assertEquals
(
"spoon.test.ctClass.testclasses.Pozole$1Cook"
,
cook
.
getQualifiedName
(
)
)
;
final
Set
<
?
CtConstructor
<
?
>
>
constructors
=
cook
.
getConstructors
(
)
;
final
String
expectedConstructor
=
"public Cook() {"
+
System
.
lineSeparator
(
)
+
"}"
;
assertEquals
(
expectedConstructor
,
constructors
.
toArray
(
new
CtConstructor
[
]
)
[
0
]
.
toString
(
)
)
;
assertEquals
(
"final java.lang.Class<Cook> cookClass = Cook.class"
,
cook
.
getMethod
(
"m"
)
.
getBody
(
)
.
getStatement
(
0
)
.
toString
(
)
)
;
}
