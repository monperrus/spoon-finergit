@Test
public
void
testGetReference
(
)
throws
Exception
{
final
CtType
<
A
>
aClass
=
ModelUtils
.
buildClass
(
A
.
class
)
;
String
methodName
=
"getInt1"
;
CtExecutableReference
<
?
>
methodRef
=
aClass
.
getMethod
(
methodName
)
.
getReference
(
)
;
assertFalse
(
methodRef
.
isFinal
(
)
)
;
assertTrue
(
methodRef
.
isStatic
(
)
)
;
assertEquals
(
aClass
.
getFactory
(
)
.
Type
(
)
.
integerPrimitiveType
(
)
,
methodRef
.
getType
(
)
)
;
assertEquals
(
aClass
.
getMethod
(
methodName
)
,
methodRef
.
getDeclaration
(
)
)
;
methodName
=
"getInt2"
;
methodRef
=
aClass
.
getMethod
(
methodName
)
.
getReference
(
)
;
assertTrue
(
methodRef
.
isFinal
(
)
)
;
assertTrue
(
methodRef
.
isStatic
(
)
)
;
assertEquals
(
aClass
.
getFactory
(
)
.
Type
(
)
.
integerPrimitiveType
(
)
,
methodRef
.
getType
(
)
)
;
assertEquals
(
aClass
.
getMethod
(
methodName
)
,
methodRef
.
getDeclaration
(
)
)
;
methodName
=
"getInt3"
;
methodRef
=
aClass
.
getMethod
(
methodName
)
.
getReference
(
)
;
assertTrue
(
methodRef
.
isFinal
(
)
)
;
assertFalse
(
methodRef
.
isStatic
(
)
)
;
assertEquals
(
aClass
.
getFactory
(
)
.
Type
(
)
.
integerPrimitiveType
(
)
,
methodRef
.
getType
(
)
)
;
assertEquals
(
aClass
.
getMethod
(
methodName
)
,
methodRef
.
getDeclaration
(
)
)
;
methodName
=
"getInt4"
;
methodRef
=
aClass
.
getMethod
(
methodName
)
.
getReference
(
)
;
assertFalse
(
methodRef
.
isFinal
(
)
)
;
assertFalse
(
methodRef
.
isStatic
(
)
)
;
assertEquals
(
aClass
.
getFactory
(
)
.
Type
(
)
.
integerPrimitiveType
(
)
,
methodRef
.
getType
(
)
)
;
assertEquals
(
aClass
.
getMethod
(
methodName
)
,
methodRef
.
getDeclaration
(
)
)
;
}
