@Test
public
void
testInfoInsideAnonymousExecutable
(
)
throws
Exception
{
final
Launcher
launcher
=
new
Launcher
(
)
;
launcher
.
setArgs
(
new
String
[
]
{
"--output-type"
,
"nooutput"
}
)
;
launcher
.
addInputResource
(
"./src/test/java/spoon/test/executable/testclasses/AnonymousExecutableSample.java"
)
;
launcher
.
run
(
)
;
final
List
<
CtAnonymousExecutable
>
anonymousExecutables
=
Query
.
getElements
(
launcher
.
getFactory
(
)
,
new
TypeFilter
<
CtAnonymousExecutable
>
(
CtAnonymousExecutable
.
class
)
)
;
assertEquals
(
2
,
anonymousExecutables
.
size
(
)
)
;
for
(
CtAnonymousExecutable
anonymousExecutable
:
anonymousExecutables
)
{
assertEquals
(
""
,
anonymousExecutable
.
getSimpleName
(
)
)
;
assertEquals
(
launcher
.
getFactory
(
)
.
Type
(
)
.
VOID_PRIMITIVE
,
anonymousExecutable
.
getType
(
)
)
;
assertEquals
(
0
,
anonymousExecutable
.
getParameters
(
)
.
size
(
)
)
;
assertEquals
(
0
,
anonymousExecutable
.
getThrownTypes
(
)
.
size
(
)
)
;
}
}
