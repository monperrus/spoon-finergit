@Test
public
void
testCreateVariableAssignement
(
)
{
Factory
factory
=
createFactory
(
)
;
CtType
t
=
factory
.
Class
(
)
.
create
(
"my.MyClass"
)
;
CtField
f
=
factory
.
createCtField
(
"f"
,
factory
.
Type
(
)
.
booleanPrimitiveType
(
)
,
"false"
,
ModifierKind
.
PRIVATE
)
;
t
.
addField
(
f
)
;
CtAssignment
va
=
factory
.
Code
(
)
.
createVariableAssignment
(
f
.
getReference
(
)
,
false
,
factory
.
createLiteral
(
true
)
)
;
assertTrue
(
va
.
getAssigned
(
)
instanceof
CtVariableWrite
)
;
assertEquals
(
f
.
getReference
(
)
,
(
(
CtVariableWrite
)
va
.
getAssigned
(
)
)
.
getVariable
(
)
)
;
}
