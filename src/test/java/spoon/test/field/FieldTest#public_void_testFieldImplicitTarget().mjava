@Test
public
void
testFieldImplicitTarget
(
)
throws
Exception
{
final
CtClass
<
AddFieldAtTop
>
aClass
=
(
CtClass
<
AddFieldAtTop
>
)
buildClass
(
AddFieldAtTop
.
class
)
;
List
<
CtFieldRead
>
fieldReads
=
aClass
.
getElements
(
new
TypeFilter
<
>
(
CtFieldRead
.
class
)
)
;
assertEquals
(
1
,
fieldReads
.
size
(
)
)
;
assertEquals
(
"i"
,
fieldReads
.
get
(
0
)
.
toString
(
)
)
;
fieldReads
.
get
(
0
)
.
getTarget
(
)
.
setImplicit
(
false
)
;
assertEquals
(
false
,
fieldReads
.
get
(
0
)
.
getTarget
(
)
.
isImplicit
(
)
)
;
assertEquals
(
"this.i"
,
fieldReads
.
get
(
0
)
.
toString
(
)
)
;
}
