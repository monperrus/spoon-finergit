@Test
public
void
testGetReference
(
)
throws
Exception
{
final
Launcher
launcher
=
new
Launcher
(
)
;
launcher
.
getEnvironment
(
)
.
setShouldCompile
(
true
)
;
launcher
.
addInputResource
(
"./src/test/java/spoon/test/fieldaccesses/testclasses/"
)
;
launcher
.
setSourceOutputDirectory
(
"./target/trash"
)
;
launcher
.
run
(
)
;
final
CtClass
<
B
>
aClass
=
launcher
.
getFactory
(
)
.
Class
(
)
.
get
(
B
.
class
)
;
aClass
.
getFactory
(
)
.
getEnvironment
(
)
.
setAutoImports
(
true
)
;
assertEquals
(
"A.myField"
,
aClass
.
getElements
(
new
TypeFilter
<
>
(
CtFieldWrite
.
class
)
)
.
get
(
0
)
.
toString
(
)
)
;
assertEquals
(
"finalField"
,
aClass
.
getElements
(
new
TypeFilter
<
>
(
CtFieldWrite
.
class
)
)
.
get
(
1
)
.
toString
(
)
)
;
}
