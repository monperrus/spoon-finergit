@Test
public
void
testFieldAccessFilter
(
)
throws
Exception
{
CtClass
<
?
>
foo
=
factory
.
Package
(
)
.
get
(
"spoon.test.filters"
)
.
getType
(
"Foo"
)
;
assertEquals
(
"Foo"
,
foo
.
getSimpleName
(
)
)
;
List
<
CtNamedElement
>
elements
=
foo
.
getElements
(
new
NameFilter
<
>
(
"i"
)
)
;
assertEquals
(
1
,
elements
.
size
(
)
)
;
CtFieldReference
ref
=
(
CtFieldReference
)
(
elements
.
get
(
0
)
)
.
getReference
(
)
;
List
<
CtFieldAccess
<
?
>
>
expressions
=
foo
.
getElements
(
new
FieldAccessFilter
(
ref
)
)
;
assertEquals
(
2
,
expressions
.
size
(
)
)
;
}
