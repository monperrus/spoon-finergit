@Test
public
void
testGetExecDeclarationOfEnumSetOf
(
)
{
Launcher
launcher
=
new
Launcher
(
)
;
launcher
.
addInputResource
(
"./src/test/java/spoon/test/generics/testclasses/EnumSetOf.java"
)
;
launcher
.
buildModel
(
)
;
CtClass
<
?
>
ctClass
=
launcher
.
getFactory
(
)
.
Class
(
)
.
get
(
EnumSetOf
.
class
)
;
CtInvocation
invocation
=
ctClass
.
getMethodsByName
(
"m"
)
.
get
(
0
)
.
getBody
(
)
.
getStatement
(
0
)
;
CtExecutable
<
?
>
decl
=
invocation
.
getExecutable
(
)
.
getDeclaration
(
)
;
assertNull
(
decl
)
;
CtClass
<
?
>
enumClass
=
launcher
.
getFactory
(
)
.
Class
(
)
.
get
(
EnumSet
.
class
)
;
List
<
CtMethod
<
?
>
>
methods
=
enumClass
.
getMethodsByName
(
"of"
)
;
CtMethod
rightOfMethod
=
null
;
for
(
CtMethod
method
:
methods
)
{
if
(
method
.
getParameters
(
)
.
size
(
)
==
1
)
{
rightOfMethod
=
method
;
}
}
assertNotNull
(
rightOfMethod
)
;
decl
=
invocation
.
getExecutable
(
)
.
getExecutableDeclaration
(
)
;
assertEquals
(
rightOfMethod
,
decl
)
;
}
