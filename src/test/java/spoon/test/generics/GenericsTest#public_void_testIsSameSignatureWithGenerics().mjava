@Test
public
void
testIsSameSignatureWithGenerics
(
)
{
Launcher
launcher
=
new
Launcher
(
)
;
launcher
.
addInputResource
(
"./src/test/java/spoon/test/generics/testclasses/SameSignature.java"
)
;
launcher
.
buildModel
(
)
;
CtClass
ctClass
=
launcher
.
getFactory
(
)
.
Class
(
)
.
get
(
SameSignature
.
class
)
;
List
<
CtMethod
>
methods
=
ctClass
.
getMethodsByName
(
"forEach"
)
;
assertEquals
(
1
,
methods
.
size
(
)
)
;
CtType
<
?
>
iterableItf
=
launcher
.
getFactory
(
)
.
Type
(
)
.
get
(
Iterable
.
class
)
;
List
<
CtMethod
<
?
>
>
methodsItf
=
iterableItf
.
getMethodsByName
(
"forEach"
)
;
assertEquals
(
1
,
methodsItf
.
size
(
)
)
;
ClassTypingContext
ctc
=
new
ClassTypingContext
(
ctClass
.
getReference
(
)
)
;
assertTrue
(
ctc
.
isOverriding
(
methods
.
get
(
0
)
,
methodsItf
.
get
(
0
)
)
)
;
assertTrue
(
ctc
.
isSubSignature
(
methods
.
get
(
0
)
,
methodsItf
.
get
(
0
)
)
)
;
assertTrue
(
ctc
.
isSameSignature
(
methods
.
get
(
0
)
,
methodsItf
.
get
(
0
)
)
)
;
}
