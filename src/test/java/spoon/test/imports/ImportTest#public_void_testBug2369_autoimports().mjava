@Test
public
void
testBug2369_autoimports
(
)
{
final
Launcher
launcher
=
new
Launcher
(
)
;
launcher
.
addInputResource
(
"./src/test/java/spoon/test/imports/testclasses/JavaLongUse.java"
)
;
launcher
.
getEnvironment
(
)
.
setAutoImports
(
true
)
;
launcher
.
buildModel
(
)
;
final
String
nl
=
System
.
lineSeparator
(
)
;
assertEquals
(
"public class JavaLongUse {"
+
nl
+
"    public class Long {}"
+
nl
+
""
+
nl
+
"    public static long method() {"
+
nl
+
"        return java.lang.Long.parseLong(\"10000\");"
+
nl
+
"    }"
+
nl
+
""
+
nl
+
"    public static void main(String[] args) {"
+
nl
+
"        System.out.println(method());"
+
nl
+
"    }"
+
nl
+
"}"
,
printByPrinter
(
launcher
.
getFactory
(
)
.
Type
(
)
.
get
(
"spoon.test.imports.testclasses.JavaLongUse"
)
)
)
;
}
