@Test
public
void
testImportStarredPackageWithNonVisibleClass
(
)
throws
IOException
{
final
Launcher
launcher
=
new
Launcher
(
)
;
launcher
.
getEnvironment
(
)
.
setAutoImports
(
true
)
;
launcher
.
getEnvironment
(
)
.
setShouldCompile
(
true
)
;
launcher
.
addInputResource
(
"./src/test/java/spoon/test/imports/testclasses/internal/"
)
;
launcher
.
addInputResource
(
"./src/test/java/spoon/test/imports/testclasses/DumbClassUsingInternal.java"
)
;
launcher
.
run
(
)
;
File
f
=
new
File
(
"./src/test/java/spoon/test/imports/testclasses/DumbClassUsingInternal.java"
)
;
CompilationUnit
cu
=
launcher
.
getFactory
(
)
.
CompilationUnit
(
)
.
getMap
(
)
.
get
(
f
.
getCanonicalPath
(
)
)
;
assertNotNull
(
cu
)
;
assertEquals
(
3
,
cu
.
getImports
(
)
.
size
(
)
)
;
}
