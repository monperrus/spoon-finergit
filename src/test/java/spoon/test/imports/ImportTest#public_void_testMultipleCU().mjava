@Test
public
void
testMultipleCU
(
)
throws
IOException
{
final
Launcher
launcher
=
new
Launcher
(
)
;
launcher
.
getEnvironment
(
)
.
setAutoImports
(
true
)
;
String
outputDir
=
"./target/spooned-multiplecu"
;
launcher
.
addInputResource
(
"./src/test/java/spoon/test/imports/testclasses/multiplecu/"
)
;
launcher
.
setSourceOutputDirectory
(
outputDir
)
;
launcher
.
run
(
)
;
canBeBuilt
(
outputDir
,
7
)
;
String
pathA
=
"spoon/test/imports/testclasses/multiplecu/A.java"
;
String
pathB
=
"spoon/test/imports/testclasses/multiplecu/B.java"
;
File
outputA
=
new
File
(
outputDir
+
"/"
+
pathA
)
;
String
codeA
=
IOUtils
.
toString
(
new
FileReader
(
outputA
)
)
;
assertThat
(
codeA
,
containsString
(
"import java.util.List;"
)
)
;
File
outputB
=
new
File
(
outputDir
+
"/"
+
pathB
)
;
String
codeB
=
IOUtils
.
toString
(
new
FileReader
(
outputB
)
)
;
assertThat
(
codeB
,
containsString
(
"import java.awt.List;"
)
)
;
}
