@Test
public
void
testNotImportExecutableType
(
)
throws
Exception
{
final
Factory
factory
=
getFactory
(
"./src/test/java/spoon/test/imports/testclasses/internal3/Foo.java"
,
"./src/test/java/spoon/test/imports/testclasses/internal3/Bar.java"
,
"./src/test/java/spoon/test/imports/testclasses/NotImportExecutableType.java"
)
;
ImportScanner
importContext
=
new
ImportScannerImpl
(
)
;
importContext
.
computeImports
(
factory
.
Class
(
)
.
get
(
NotImportExecutableType
.
class
)
)
;
Collection
<
CtImport
>
imports
=
importContext
.
getAllImports
(
)
;
assertEquals
(
3
,
imports
.
size
(
)
)
;
Set
<
String
>
expectedImports
=
new
HashSet
<
>
(
Arrays
.
asList
(
"spoon.test.imports.testclasses.internal3.Foo"
,
"java.io.File"
,
"java.lang.Object"
)
)
;
Set
<
String
>
actualImports
=
imports
.
stream
(
)
.
map
(
CtImport
::
getReference
)
.
map
(
CtReference
::
toString
)
.
collect
(
Collectors
.
toSet
(
)
)
;
assertEquals
(
expectedImports
,
actualImports
)
;
}
