@Test
public
void
testmportInCu
(
)
throws
Exception
{
String
[
]
options
=
{
"--output-type"
,
"compilationunits"
,
"--output"
,
"target/testmportInCu"
,
"--with-imports"
}
;
String
path
=
"spoon/test/prettyprinter/testclasses/A.java"
;
final
Launcher
launcher
=
new
Launcher
(
)
;
launcher
.
setArgs
(
options
)
;
launcher
.
addInputResource
(
"./src/test/java/"
+
path
)
;
launcher
.
run
(
)
;
File
output
=
new
File
(
"target/testmportInCu/"
+
path
)
;
String
code
=
IOUtils
.
toString
(
new
FileReader
(
output
)
)
;
assertTrue
(
code
.
contains
(
"import java.util.ArrayList"
)
)
;
assertFalse
(
code
.
contains
(
"new java.util.ArrayList"
)
)
;
assertTrue
(
code
.
contains
(
"ArrayList<String> list = new ArrayList<>()"
)
)
;
output
.
delete
(
)
;
}
