@Parameterized.Parameters(name="{1}")
public
static
Collection
<
Object
[
]
>
data
(
)
throws
Exception
{
final
Launcher
launcher
=
new
Launcher
(
)
;
final
Factory
factory
=
launcher
.
getFactory
(
)
;
launcher
.
getEnvironment
(
)
.
setNoClasspath
(
true
)
;
launcher
.
addInputResource
(
"./src/main/java/spoon/reflect/code"
)
;
launcher
.
addInputResource
(
"./src/main/java/spoon/reflect/declaration"
)
;
launcher
.
addInputResource
(
"./src/main/java/spoon/reflect/reference"
)
;
launcher
.
buildModel
(
)
;
final
List
<
Object
[
]
>
values
=
new
ArrayList
<
>
(
)
;
new
IntercessionScanner
(
launcher
.
getFactory
(
)
)
{
@Override
protected
boolean
isToBeProcessed
(
CtMethod
<
?
>
candidate
)
{
return
(
candidate
.
getSimpleName
(
)
.
startsWith
(
"set"
)
||
candidate
.
getSimpleName
(
)
.
startsWith
(
"add"
)
)
&&
takeSetterForCtElement
(
candidate
)
;
}
@Override
protected
void
process
(
CtMethod
<
?
>
element
)
{
values
.
add
(
new
Object
[
]
{
createCompatibleObject
(
element
.
getDeclaringType
(
)
.
getReference
(
)
)
,
element
.
getReference
(
)
.
getActualMethod
(
)
}
)
;
}
}
.
scan
(
launcher
.
getModel
(
)
.
getRootPackage
(
)
)
;
return
values
;
}
