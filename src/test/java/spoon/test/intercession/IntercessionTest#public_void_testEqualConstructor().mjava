@Test
public
void
testEqualConstructor
(
)
{
CtClass
<
?
>
clazz
=
factory
.
Code
(
)
.
createCodeSnippetStatement
(
""
+
"class X { public X() {} };"
)
.
compile
(
)
;
CtConstructor
<
?
>
foo
=
(
CtConstructor
<
?
>
)
clazz
.
getConstructors
(
)
.
toArray
(
)
[
0
]
;
CtConstructor
<
?
>
fooClone
=
foo
.
clone
(
)
;
Assert
.
assertEquals
(
foo
,
fooClone
)
;
CtBlock
<
?
>
body
=
foo
.
getBody
(
)
;
assertEquals
(
1
,
body
.
getStatements
(
)
.
size
(
)
)
;
assertEquals
(
"super()"
,
body
.
getStatements
(
)
.
get
(
0
)
.
toString
(
)
)
;
CtStatement
stmt
=
factory
.
Core
(
)
.
createCodeSnippetStatement
(
)
;
body
.
insertEnd
(
stmt
)
;
assertEquals
(
2
,
body
.
getStatements
(
)
.
size
(
)
)
;
Assert
.
assertNotEquals
(
foo
,
fooClone
)
;
}
