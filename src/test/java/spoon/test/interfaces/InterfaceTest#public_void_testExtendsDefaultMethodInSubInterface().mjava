@Test
public
void
testExtendsDefaultMethodInSubInterface
(
)
throws
Exception
{
final
CtInterface
<
?
>
ctInterface
=
(
CtInterface
<
?
>
)
factory
.
Type
(
)
.
get
(
ExtendsDefaultMethodInterface
.
class
)
;
assertEquals
(
"Sub interface must have only one method in its interface"
,
1
,
ctInterface
.
getMethods
(
)
.
size
(
)
)
;
assertEquals
(
"Sub interface must have 6+12(from java.lang.Object) methods in its interface and its super interfaces"
,
18
,
ctInterface
.
getAllMethods
(
)
.
size
(
)
)
;
final
CtMethod
<
?
>
getZonedDateTimeMethod
=
ctInterface
.
getMethodsByName
(
"getZonedDateTime"
)
.
get
(
0
)
;
assertTrue
(
"Method in the sub interface must be a default method"
,
getZonedDateTimeMethod
.
isDefaultMethod
(
)
)
;
assertEquals
(
"Interface of the default method must be the sub interface"
,
ExtendsDefaultMethodInterface
.
class
,
getZonedDateTimeMethod
.
getDeclaringType
(
)
.
getActualClass
(
)
)
;
}
