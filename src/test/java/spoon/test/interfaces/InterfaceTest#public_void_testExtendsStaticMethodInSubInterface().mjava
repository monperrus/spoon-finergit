@Test
public
void
testExtendsStaticMethodInSubInterface
(
)
throws
Exception
{
final
CtInterface
<
?
>
ctInterface
=
(
CtInterface
<
?
>
)
factory
.
Type
(
)
.
get
(
ExtendsStaticMethodInterface
.
class
)
;
assertEquals
(
"Sub interface must have only one method in its interface"
,
1
,
ctInterface
.
getMethods
(
)
.
size
(
)
)
;
assertEquals
(
"Sub interface must have 6+12(from java.lang.Object) methods in its interface and its super interfaces"
,
18
,
ctInterface
.
getAllMethods
(
)
.
size
(
)
)
;
final
CtMethod
<
?
>
getZoneIdMethod
=
ctInterface
.
getMethodsByName
(
"getZoneId"
)
.
get
(
0
)
;
assertTrue
(
"Method in the sub interface must be a static method"
,
getZoneIdMethod
.
getModifiers
(
)
.
contains
(
ModifierKind
.
STATIC
)
)
;
assertEquals
(
"Interface of the static method must be the sub interface"
,
ExtendsStaticMethodInterface
.
class
,
getZoneIdMethod
.
getDeclaringType
(
)
.
getActualClass
(
)
)
;
}
