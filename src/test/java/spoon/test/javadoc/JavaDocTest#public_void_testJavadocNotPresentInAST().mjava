@Test
public
void
testJavadocNotPresentInAST
(
)
throws
Exception
{
SpoonAPI
launcher
=
new
Launcher
(
)
;
launcher
.
getEnvironment
(
)
.
setCommentEnabled
(
false
)
;
launcher
.
getEnvironment
(
)
.
setNoClasspath
(
true
)
;
launcher
.
addInputResource
(
"./src/test/java/spoon/test/javadoc/testclasses/"
)
;
launcher
.
setSourceOutputDirectory
(
"./target/trash/"
)
;
launcher
.
run
(
)
;
new
CtScanner
(
)
{
@Override
public
void
scan
(
CtElement
element
)
{
if
(
element
!=
null
)
{
assertEquals
(
0
,
element
.
getComments
(
)
.
size
(
)
)
;
}
super
.
scan
(
element
)
;
}
@Override
public
void
visitCtComment
(
CtComment
comment
)
{
fail
(
"Shouldn't have comment in the model."
)
;
super
.
visitCtComment
(
comment
)
;
}
}
.
scan
(
launcher
.
getModel
(
)
.
getRootPackage
(
)
)
;
}
