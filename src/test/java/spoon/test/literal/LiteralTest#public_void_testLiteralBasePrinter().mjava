@Test
public
void
testLiteralBasePrinter
(
)
{
Launcher
launcher
=
new
Launcher
(
)
;
launcher
.
addInputResource
(
"./src/test/java/spoon/test/literal/testclasses/BasedLiteral.java"
)
;
launcher
.
buildModel
(
)
;
final
CtClass
<
?
>
ctClass
=
launcher
.
getFactory
(
)
.
Class
(
)
.
get
(
"spoon.test.literal.testclasses.BasedLiteral"
)
;
assertEquals
(
"42"
,
ctClass
.
getField
(
"i1"
)
.
getDefaultExpression
(
)
.
toString
(
)
)
;
(
(
CtLiteral
)
ctClass
.
getField
(
"i1"
)
.
getDefaultExpression
(
)
)
.
setBase
(
LiteralBase
.
OCTAL
)
;
assertEquals
(
"052"
,
ctClass
.
getField
(
"i1"
)
.
getDefaultExpression
(
)
.
toString
(
)
)
;
assertEquals
(
"0"
,
ctClass
.
getField
(
"i2"
)
.
getDefaultExpression
(
)
.
toString
(
)
)
;
assertEquals
(
"00"
,
ctClass
.
getField
(
"i3"
)
.
getDefaultExpression
(
)
.
toString
(
)
)
;
assertEquals
(
"042"
,
ctClass
.
getField
(
"i4"
)
.
getDefaultExpression
(
)
.
toString
(
)
)
;
assertEquals
(
"0x42"
,
ctClass
.
getField
(
"i5"
)
.
getDefaultExpression
(
)
.
toString
(
)
)
;
assertEquals
(
"0x42"
,
ctClass
.
getField
(
"i6"
)
.
getDefaultExpression
(
)
.
toString
(
)
)
;
assertEquals
(
"0142"
,
ctClass
.
getField
(
"i7"
)
.
getDefaultExpression
(
)
.
toString
(
)
)
;
assertEquals
(
"0b1"
,
ctClass
.
getField
(
"i8"
)
.
getDefaultExpression
(
)
.
toString
(
)
)
;
assertEquals
(
"0b1010"
,
ctClass
.
getField
(
"i9"
)
.
getDefaultExpression
(
)
.
toString
(
)
)
;
assertEquals
(
"42L"
,
ctClass
.
getField
(
"l1"
)
.
getDefaultExpression
(
)
.
toString
(
)
)
;
assertEquals
(
"0L"
,
ctClass
.
getField
(
"l2"
)
.
getDefaultExpression
(
)
.
toString
(
)
)
;
assertEquals
(
"00L"
,
ctClass
.
getField
(
"l3"
)
.
getDefaultExpression
(
)
.
toString
(
)
)
;
assertEquals
(
"042L"
,
ctClass
.
getField
(
"l4"
)
.
getDefaultExpression
(
)
.
toString
(
)
)
;
assertEquals
(
"0x42L"
,
ctClass
.
getField
(
"l5"
)
.
getDefaultExpression
(
)
.
toString
(
)
)
;
assertEquals
(
"0x42L"
,
ctClass
.
getField
(
"l6"
)
.
getDefaultExpression
(
)
.
toString
(
)
)
;
assertEquals
(
"0b0L"
,
ctClass
.
getField
(
"l7"
)
.
getDefaultExpression
(
)
.
toString
(
)
)
;
assertEquals
(
"0b1010L"
,
ctClass
.
getField
(
"l8"
)
.
getDefaultExpression
(
)
.
toString
(
)
)
;
assertEquals
(
"42.42F"
,
ctClass
.
getField
(
"f1"
)
.
getDefaultExpression
(
)
.
toString
(
)
)
;
assertEquals
(
"42.0F"
,
ctClass
.
getField
(
"f2"
)
.
getDefaultExpression
(
)
.
toString
(
)
)
;
assertEquals
(
"0.0F"
,
ctClass
.
getField
(
"f3"
)
.
getDefaultExpression
(
)
.
toString
(
)
)
;
assertEquals
(
"0.0F"
,
ctClass
.
getField
(
"f4"
)
.
getDefaultExpression
(
)
.
toString
(
)
)
;
assertEquals
(
"0.0F"
,
ctClass
.
getField
(
"f5"
)
.
getDefaultExpression
(
)
.
toString
(
)
)
;
assertEquals
(
"0x1.2p7F"
,
ctClass
.
getField
(
"f6"
)
.
getDefaultExpression
(
)
.
toString
(
)
)
;
assertEquals
(
"0x1.2p7F"
,
ctClass
.
getField
(
"f7"
)
.
getDefaultExpression
(
)
.
toString
(
)
)
;
assertEquals
(
"0.0"
,
ctClass
.
getField
(
"d1"
)
.
getDefaultExpression
(
)
.
toString
(
)
)
;
assertEquals
(
"0.0"
,
ctClass
.
getField
(
"d2"
)
.
getDefaultExpression
(
)
.
toString
(
)
)
;
assertEquals
(
"42.0"
,
ctClass
.
getField
(
"d3"
)
.
getDefaultExpression
(
)
.
toString
(
)
)
;
assertEquals
(
"'c'"
,
ctClass
.
getField
(
"c1"
)
.
getDefaultExpression
(
)
.
toString
(
)
)
;
assertEquals
(
"\"hello\""
,
ctClass
.
getField
(
"s1"
)
.
getDefaultExpression
(
)
.
toString
(
)
)
;
}
