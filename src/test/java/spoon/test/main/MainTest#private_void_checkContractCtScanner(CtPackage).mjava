private
void
checkContractCtScanner
(
CtPackage
pack
)
{
class
Counter
{
int
scan
,
enter
,
exit
=
0
;
}
final
Counter
counter
=
new
Counter
(
)
;
new
CtScanner
(
)
{
@Override
public
void
scan
(
CtElement
element
)
{
if
(
element
!=
null
)
{
counter
.
scan
++
;
}
super
.
scan
(
element
)
;
}
@Override
public
void
enter
(
CtElement
element
)
{
counter
.
enter
++
;
super
.
enter
(
element
)
;
}
@Override
public
void
exit
(
CtElement
element
)
{
counter
.
exit
++
;
super
.
exit
(
element
)
;
}
}
.
visitCtPackage
(
pack
)
;
assertTrue
(
counter
.
enter
==
counter
.
exit
)
;
assertTrue
(
counter
.
enter
==
counter
.
scan
+
1
)
;
}
