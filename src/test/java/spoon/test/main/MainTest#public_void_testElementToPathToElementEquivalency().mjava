@Test
public
void
testElementToPathToElementEquivalency
(
)
{
rootPackage
.
accept
(
new
CtScanner
(
)
{
@Override
public
void
scan
(
CtElement
element
)
{
if
(
element
!=
null
)
{
CtPath
path
=
element
.
getPath
(
)
;
String
pathStr
=
path
.
toString
(
)
;
try
{
CtPath
pathRead
=
new
CtPathStringBuilder
(
)
.
fromString
(
pathStr
)
;
Collection
<
CtElement
>
returnedElements
=
pathRead
.
evaluateOn
(
rootPackage
)
;
assertEquals
(
returnedElements
.
size
(
)
,
1
)
;
CtElement
actualElement
=
(
CtElement
)
returnedElements
.
toArray
(
)
[
0
]
;
assertSame
(
element
,
actualElement
)
;
}
catch
(
CtPathException
e
)
{
fail
(
"Path is either incorrectly generated or incorrectly read"
)
;
}
}
super
.
scan
(
element
)
;
}
}
)
;
}
