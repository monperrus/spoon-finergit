@Test
public
void
testLauncherWithoutArgumentsExitWithSystemExit
(
)
throws
Exception
{
exit
.
expectSystemExit
(
)
;
final
PrintStream
oldErr
=
System
.
err
;
System
.
setErr
(
new
PrintStream
(
errContent
)
)
;
exit
.
checkAssertionAfterwards
(
new
Assertion
(
)
{
@Override
public
void
checkAssertion
(
)
throws
Exception
{
assertTrue
(
errContent
.
toString
(
)
.
contains
(
"Usage: java <launcher name> [option(s)]"
)
)
;
System
.
setErr
(
oldErr
)
;
}
}
)
;
new
Launcher
(
)
.
run
(
new
String
[
]
{
}
)
;
}
