@Test
public
void
testSourcePositionTreeIsCorrectlyOrdered
(
)
{
List
<
CtType
>
types
=
rootPackage
.
filterChildren
(
new
TypeFilter
<
>
(
CtType
.
class
)
)
.
filterChildren
(
(
CtType
t
)
->
t
.
isTopLevel
(
)
)
.
list
(
)
;
int
totalCount
=
0
;
boolean
hasComment
=
false
;
for
(
CtType
type
:
types
)
{
SourcePosition
sp
=
type
.
getPosition
(
)
;
totalCount
=
assertSourcePositionTreeIsCorrectlyOrder
(
sp
.
getCompilationUnit
(
)
.
getOriginalSourceFragment
(
)
,
0
,
sp
.
getCompilationUnit
(
)
.
getOriginalSourceCode
(
)
.
length
(
)
)
;
hasComment
=
hasComment
||
type
.
getComments
(
)
.
size
(
)
>
0
;
}
assertTrue
(
totalCount
>
1000
)
;
assertTrue
(
hasComment
)
;
}
