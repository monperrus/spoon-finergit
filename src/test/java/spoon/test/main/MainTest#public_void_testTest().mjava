@Test
public
void
testTest
(
)
{
Launcher
launcher
=
new
Launcher
(
)
;
launcher
.
run
(
new
String
[
]
{
"-i"
,
"src/test/java"
,
"-o"
,
"target/spooned"
,
"--noclasspath"
,
"--disable-comments"
,
"--compliance"
,
"8"
,
"--level"
,
"OFF"
}
)
;
new
ContractVerifier
(
launcher
.
getFactory
(
)
.
Package
(
)
.
getRootPackage
(
)
)
.
checkGenericContracts
(
)
;
for
(
CtType
t
:
launcher
.
getFactory
(
)
.
getModel
(
)
.
getAllTypes
(
)
)
{
if
(
"spoon.metamodel"
.
equals
(
t
.
getPackage
(
)
.
getQualifiedName
(
)
)
||
t
.
getPackage
(
)
.
getQualifiedName
(
)
.
startsWith
(
"spoon.generating"
)
)
{
continue
;
}
assertTrue
(
t
.
getQualifiedName
(
)
+
" is not clearly a test class, it should contain 'test' either in its package name or class name"
,
t
.
getQualifiedName
(
)
.
matches
(
"(?i:.*test.*)"
)
)
;
}
}
