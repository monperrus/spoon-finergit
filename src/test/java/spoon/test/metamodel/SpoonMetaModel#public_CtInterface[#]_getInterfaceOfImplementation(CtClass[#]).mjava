/** 
 * @param impl the implementation of spoon model element
 * @return {@link CtInterface} of Spoon model which represents API of the spoon model class. null if there is no implementation.
 */
public
static
CtInterface
<
?
>
getInterfaceOfImplementation
(
CtClass
<
?
>
impl
)
{
String
iface
=
impl
.
getQualifiedName
(
)
;
if
(
iface
.
endsWith
(
CLASS_SUFFIX
)
==
false
||
iface
.
startsWith
(
"spoon.support.reflect."
)
==
false
)
{
throw
new
SpoonException
(
"Unexpected spoon model implementation class: "
+
impl
.
getQualifiedName
(
)
)
;
}
iface
=
iface
.
substring
(
0
,
iface
.
length
(
)
-
CLASS_SUFFIX
.
length
(
)
)
;
iface
=
iface
.
replace
(
"spoon.support.reflect"
,
"spoon.reflect"
)
;
return
(
CtInterface
<
?
>
)
impl
.
getFactory
(
)
.
Type
(
)
.
get
(
iface
)
;
}
