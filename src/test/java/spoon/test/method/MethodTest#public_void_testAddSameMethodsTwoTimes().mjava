@Test
public
void
testAddSameMethodsTwoTimes
(
)
throws
Exception
{
final
Factory
factory
=
createFactory
(
)
;
final
CtClass
<
Object
>
tacos
=
factory
.
Class
(
)
.
create
(
"Tacos"
)
;
final
CtMethod
<
Void
>
method
=
factory
.
Method
(
)
.
create
(
tacos
,
new
HashSet
<
>
(
)
,
factory
.
Type
(
)
.
voidType
(
)
,
"m"
,
new
ArrayList
<
>
(
)
,
new
HashSet
<
>
(
)
)
;
try
{
tacos
.
addMethod
(
method
.
clone
(
)
)
;
}
catch
(
ConcurrentModificationException
e
)
{
fail
(
)
;
}
}
