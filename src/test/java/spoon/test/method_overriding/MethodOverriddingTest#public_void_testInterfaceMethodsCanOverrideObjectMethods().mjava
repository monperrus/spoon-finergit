@Test
public
void
testInterfaceMethodsCanOverrideObjectMethods
(
)
throws
Exception
{
Launcher
launcher
=
new
Launcher
(
)
;
Factory
f
=
launcher
.
getFactory
(
)
;
SpoonModelBuilder
comp
=
launcher
.
createCompiler
(
)
;
comp
.
addInputSources
(
SpoonResourceHelper
.
resources
(
"./src/test/java/spoon/test/method_overriding/testclasses2/ObjectInterface.java"
)
)
;
comp
.
build
(
)
;
CtType
<
?
>
iface
=
f
.
Interface
(
)
.
get
(
ObjectInterface
.
class
)
;
assertFalse
(
iface
.
isShadow
(
)
)
;
CtMethod
<
?
>
ifaceEquals
=
iface
.
getMethodsByName
(
"equals"
)
.
get
(
0
)
;
CtType
<
?
>
object
=
iface
.
getFactory
(
)
.
Class
(
)
.
get
(
Object
.
class
)
;
assertTrue
(
object
.
isShadow
(
)
)
;
CtMethod
<
?
>
objectEquals
=
object
.
getMethodsByName
(
"equals"
)
.
get
(
0
)
;
assertTrue
(
ifaceEquals
.
isOverriding
(
objectEquals
)
)
;
}
