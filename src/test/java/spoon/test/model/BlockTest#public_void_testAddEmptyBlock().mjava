@Test
public
void
testAddEmptyBlock
(
)
{
Factory
factory
=
createFactory
(
)
;
CtClass
<
?
>
clazz
=
factory
.
Code
(
)
.
createCodeSnippetStatement
(
""
+
"class X {"
+
"public void foo() {"
+
" "
+
"}};"
)
.
compile
(
)
;
CtMethod
<
?
>
foo
=
(
CtMethod
<
?
>
)
clazz
.
getMethods
(
)
.
toArray
(
)
[
0
]
;
CtBlock
<
?
>
body
=
foo
.
getBody
(
)
;
CtCodeSnippetStatement
snippet
=
factory
.
Core
(
)
.
createCodeSnippetStatement
(
)
;
List
<
CtStatement
>
statements
=
body
.
getStatements
(
)
;
statements
.
add
(
snippet
)
;
assertEquals
(
snippet
,
body
.
getStatement
(
0
)
)
;
CtCodeSnippetStatement
snippet2
=
factory
.
Core
(
)
.
createCodeSnippetStatement
(
)
;
body
.
getStatements
(
)
.
add
(
snippet2
)
;
assertEquals
(
snippet2
,
body
.
getStatement
(
1
)
)
;
assertEquals
(
2
,
body
.
getStatements
(
)
.
size
(
)
)
;
CtCodeSnippetStatement
snippet3
=
factory
.
Core
(
)
.
createCodeSnippetStatement
(
)
;
statements
.
add
(
snippet3
)
;
assertEquals
(
snippet3
,
body
.
getStatement
(
2
)
)
;
assertEquals
(
3
,
body
.
getStatements
(
)
.
size
(
)
)
;
}
