@Test
public
void
testSwitchStatementOnAString
(
)
throws
Exception
{
CtClass
<
?
>
clazz
=
build
(
"spoon.test.model"
,
"SwitchStringClass"
)
;
CtMethod
<
?
>
method
=
(
CtMethod
<
?
>
)
clazz
.
getMethods
(
)
.
toArray
(
)
[
0
]
;
CtSwitch
<
?
>
ctSwitch
=
method
.
getElements
(
new
TypeFilter
<
CtSwitch
<
?
>
>
(
CtSwitch
.
class
)
)
.
get
(
0
)
;
assertEquals
(
String
.
class
,
ctSwitch
.
getSelector
(
)
.
getType
(
)
.
getActualClass
(
)
)
;
for
(
CtCase
aCase
:
ctSwitch
.
getCases
(
)
)
{
if
(
aCase
.
getCaseExpression
(
)
==
null
)
{
continue
;
}
assertEquals
(
String
.
class
,
aCase
.
getCaseExpression
(
)
.
getType
(
)
.
getActualClass
(
)
)
;
}
}
