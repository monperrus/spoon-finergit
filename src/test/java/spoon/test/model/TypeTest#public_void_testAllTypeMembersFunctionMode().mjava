@Test
public
void
testAllTypeMembersFunctionMode
(
)
throws
Exception
{
CtClass
<
?
>
type
=
build
(
"spoon.test.model"
,
"Foo"
)
;
List
<
CtMethod
>
internallyAccessibleMethods
=
type
.
map
(
new
AllTypeMembersFunction
(
CtMethod
.
class
)
.
setMode
(
AllTypeMembersFunction
.
Mode
.
SKIP_PRIVATE
)
)
.
list
(
)
;
List
<
CtMethod
>
allMethods
=
type
.
map
(
new
AllTypeMembersFunction
(
CtMethod
.
class
)
)
.
list
(
)
;
assertEquals
(
16
,
internallyAccessibleMethods
.
size
(
)
)
;
assertEquals
(
17
,
allMethods
.
size
(
)
)
;
allMethods
.
removeAll
(
internallyAccessibleMethods
)
;
assertEquals
(
1
,
allMethods
.
size
(
)
)
;
assertEquals
(
"registerNatives()"
,
allMethods
.
get
(
0
)
.
getSignature
(
)
)
;
}
