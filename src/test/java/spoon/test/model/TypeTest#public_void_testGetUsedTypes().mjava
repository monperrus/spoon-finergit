@Test
public
void
testGetUsedTypes
(
)
throws
Exception
{
CtType
<
?
>
type
=
build
(
"spoon.test.model"
,
"Foo"
)
;
TypeFactory
tf
=
type
.
getFactory
(
)
.
Type
(
)
;
Set
<
CtTypeReference
<
?
>
>
usedTypes
=
type
.
getUsedTypes
(
true
)
;
assertEquals
(
3
,
usedTypes
.
size
(
)
)
;
assertTrue
(
usedTypes
.
contains
(
tf
.
createReference
(
Bar
.
class
)
)
)
;
assertTrue
(
usedTypes
.
contains
(
tf
.
createReference
(
Baz
.
class
)
)
)
;
assertTrue
(
usedTypes
.
contains
(
tf
.
createReference
(
Baz
.
Inner
.
class
)
)
)
;
assertEquals
(
0
,
type
.
getUsedTypes
(
false
)
.
size
(
)
)
;
}
