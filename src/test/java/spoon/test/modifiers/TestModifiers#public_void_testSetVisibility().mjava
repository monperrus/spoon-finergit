@Test
public
void
testSetVisibility
(
)
{
Launcher
spoon
=
new
Launcher
(
)
;
spoon
.
addInputResource
(
"./src/test/java/spoon/test/modifiers/testclasses/StaticMethod.java"
)
;
spoon
.
buildModel
(
)
;
CtType
<
?
>
myClass
=
spoon
.
getFactory
(
)
.
Type
(
)
.
get
(
StaticMethod
.
class
)
;
CtMethod
methodPublicStatic
=
myClass
.
getMethodsByName
(
"maMethod"
)
.
get
(
0
)
;
assertEquals
(
ModifierKind
.
PUBLIC
,
methodPublicStatic
.
getVisibility
(
)
)
;
methodPublicStatic
.
setVisibility
(
ModifierKind
.
PROTECTED
)
;
assertEquals
(
ModifierKind
.
PROTECTED
,
methodPublicStatic
.
getVisibility
(
)
)
;
try
{
methodPublicStatic
.
setVisibility
(
ModifierKind
.
FINAL
)
;
fail
(
)
;
}
catch
(
SpoonException
e
)
{
}
assertEquals
(
ModifierKind
.
PROTECTED
,
methodPublicStatic
.
getVisibility
(
)
)
;
}
