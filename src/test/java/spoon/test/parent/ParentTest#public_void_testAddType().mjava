@Test
public
void
testAddType
(
)
{
CtClass
<
?
>
clazz
=
factory
.
Core
(
)
.
createClass
(
)
;
clazz
.
setSimpleName
(
"Foo"
)
;
CtPackage
pack
=
factory
.
Core
(
)
.
createPackage
(
)
;
pack
.
setSimpleName
(
"bar"
)
;
pack
.
addType
(
clazz
)
;
assertTrue
(
pack
.
getTypes
(
)
.
contains
(
clazz
)
)
;
assertEquals
(
pack
,
clazz
.
getParent
(
)
)
;
CtClass
<
?
>
clone
=
clazz
.
clone
(
)
;
clone
.
putMetadata
(
"metadata"
,
"bar"
)
;
pack
.
addType
(
clone
)
;
assertEquals
(
"bar"
,
pack
.
getType
(
"Foo"
)
.
getMetadata
(
"metadata"
)
)
;
}
