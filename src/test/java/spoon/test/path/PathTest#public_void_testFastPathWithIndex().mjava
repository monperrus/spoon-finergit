@Test
public
void
testFastPathWithIndex
(
)
{
CtType
<
?
>
fooClass
=
factory
.
Package
(
)
.
get
(
"spoon.test.path.testclasses"
)
.
getType
(
"Foo"
)
;
CtMethod
<
Object
>
method
=
fooClass
.
getMethod
(
"foo"
)
;
CtStatement
ifStmt
=
(
(
CtIf
)
method
.
getBody
(
)
.
getStatement
(
2
)
)
.
getElseStatement
(
)
;
CtPath
absPath
=
new
CtElementPathBuilder
(
)
.
setUseNamesInPath
(
false
)
.
fromElement
(
ifStmt
)
;
assertEquals
(
"#subPackage[name=spoon]#subPackage[name=test]#subPackage[name=path]#subPackage[name=testclasses]#containedType[name=Foo]#typeMember[index=3]#body#statement[index=2]#else"
,
absPath
.
toString
(
)
)
;
}
