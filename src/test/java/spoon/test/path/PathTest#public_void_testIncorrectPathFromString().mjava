@Test
public
void
testIncorrectPathFromString
(
)
throws
Exception
{
Collection
<
CtElement
>
results
=
new
CtPathStringBuilder
(
)
.
fromString
(
".spoon.test.path.Foo.bar#body#statement[index=2]#else"
)
.
evaluateOn
(
factory
.
getModel
(
)
.
getRootPackage
(
)
)
;
assertEquals
(
results
.
size
(
)
,
0
)
;
results
=
new
CtPathStringBuilder
(
)
.
fromString
(
".spoon.test.path.Foo.foo#body#statement[index=3]"
)
.
evaluateOn
(
factory
.
getModel
(
)
.
getRootPackage
(
)
)
;
assertEquals
(
results
.
size
(
)
,
0
)
;
results
=
new
CtPathStringBuilder
(
)
.
fromString
(
"#subPackage[name=nonExistingPackage]"
)
.
evaluateOn
(
factory
.
getModel
(
)
.
getRootPackage
(
)
)
;
assertEquals
(
results
.
size
(
)
,
0
)
;
results
=
new
CtPathStringBuilder
(
)
.
fromString
(
".spoon.test.path.Foo.bar##annotation[index=0]#value[key=misspelled]"
)
.
evaluateOn
(
factory
.
getModel
(
)
.
getRootPackage
(
)
)
;
assertEquals
(
results
.
size
(
)
,
0
)
;
}
