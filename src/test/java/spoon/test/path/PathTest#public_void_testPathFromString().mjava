@Test
public
void
testPathFromString
(
)
throws
Exception
{
equals
(
new
CtPathStringBuilder
(
)
.
fromString
(
".spoon.test.path.Foo.foo#body[index=0]"
)
,
factory
.
Package
(
)
.
get
(
"spoon.test.path"
)
.
getType
(
"Foo"
)
.
getMethod
(
"foo"
)
.
getBody
(
)
.
getStatement
(
0
)
)
;
equals
(
new
CtPathStringBuilder
(
)
.
fromString
(
".spoon.test.path.Foo.bar/CtParameter"
)
,
factory
.
Package
(
)
.
get
(
"spoon.test.path"
)
.
getType
(
"Foo"
)
.
getMethod
(
"bar"
,
factory
.
Type
(
)
.
createReference
(
int
.
class
)
,
factory
.
Type
(
)
.
createReference
(
int
.
class
)
)
.
getParameters
(
)
.
toArray
(
new
CtElement
[
]
)
)
;
CtLiteral
<
String
>
literal
=
factory
.
Core
(
)
.
createLiteral
(
)
;
literal
.
setValue
(
"salut"
)
;
literal
.
setType
(
literal
.
getFactory
(
)
.
Type
(
)
.
STRING
)
;
equals
(
new
CtPathStringBuilder
(
)
.
fromString
(
".spoon.test.path.Foo.toto#defaultValue"
)
,
literal
)
;
}
