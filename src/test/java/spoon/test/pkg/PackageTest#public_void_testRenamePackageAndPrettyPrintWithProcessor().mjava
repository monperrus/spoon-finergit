@Test
public
void
testRenamePackageAndPrettyPrintWithProcessor
(
)
throws
Exception
{
String
destPath
=
"./target/spoon-rename-processor"
;
final
Launcher
spoon
=
new
Launcher
(
)
;
spoon
.
addInputResource
(
"./src/test/resources/noclasspath/app/Test.java"
)
;
spoon
.
getEnvironment
(
)
.
setNoClasspath
(
true
)
;
spoon
.
addProcessor
(
new
ElementProcessor
(
)
)
;
spoon
.
setSourceOutputDirectory
(
destPath
)
;
spoon
.
run
(
)
;
String
fileDir
=
destPath
+
"/newtest/Test.java"
;
File
f
=
new
File
(
fileDir
)
;
assertTrue
(
f
.
exists
(
)
)
;
try
(
BufferedReader
reader
=
new
BufferedReader
(
new
FileReader
(
f
)
)
)
{
assertTrue
(
reader
.
lines
(
)
.
anyMatch
(
(
s
)
->
{
return
"package newtest;"
.
equals
(
s
)
;
}
)
)
;
}
}
