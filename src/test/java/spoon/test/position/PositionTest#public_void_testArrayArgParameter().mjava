@Test
public
void
testArrayArgParameter
(
)
throws
Exception
{
final
CtType
<
?
>
foo
=
ModelUtils
.
buildClass
(
ArrayArgParameter
.
class
)
;
String
classContent
=
getClassContent
(
foo
)
;
{
CtParameter
<
?
>
param
=
foo
.
getMethodsByName
(
"m1"
)
.
get
(
0
)
.
getParameters
(
)
.
get
(
0
)
;
assertEquals
(
"String[] arg"
,
contentAtPosition
(
classContent
,
param
.
getPosition
(
)
)
)
;
assertEquals
(
"String[]"
,
contentAtPosition
(
classContent
,
param
.
getType
(
)
.
getPosition
(
)
)
)
;
}
{
CtParameter
<
?
>
param
=
foo
.
getMethodsByName
(
"m2"
)
.
get
(
0
)
.
getParameters
(
)
.
get
(
0
)
;
assertEquals
(
"String []arg"
,
contentAtPosition
(
classContent
,
param
.
getPosition
(
)
)
)
;
assertEquals
(
"String []"
,
contentAtPosition
(
classContent
,
param
.
getType
(
)
.
getPosition
(
)
)
)
;
}
{
CtParameter
<
?
>
param
=
foo
.
getMethodsByName
(
"m3"
)
.
get
(
0
)
.
getParameters
(
)
.
get
(
0
)
;
assertEquals
(
"String arg[]"
,
contentAtPosition
(
classContent
,
param
.
getPosition
(
)
)
)
;
assertEquals
(
"String arg[]"
,
contentAtPosition
(
classContent
,
param
.
getType
(
)
.
getPosition
(
)
)
)
;
}
}
