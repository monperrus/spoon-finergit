@Test
public
void
testPositionOfCtImport
(
)
throws
Exception
{
final
CtType
<
?
>
foo
=
buildClass
(
launcher
->
launcher
.
getEnvironment
(
)
.
setAutoImports
(
true
)
,
AnnonymousClassNewIface
.
class
)
;
String
originSources
=
foo
.
getPosition
(
)
.
getCompilationUnit
(
)
.
getOriginalSourceCode
(
)
;
Set
<
CtImport
>
imports
=
foo
.
getPosition
(
)
.
getCompilationUnit
(
)
.
getImports
(
)
;
assertEquals
(
2
,
imports
.
size
(
)
)
;
Iterator
<
CtImport
>
iter
=
imports
.
iterator
(
)
;
{
CtImport
ctImport
=
iter
.
next
(
)
;
assertEquals
(
"import java.util.Set;"
,
contentAtPosition
(
originSources
,
ctImport
.
getPosition
(
)
)
)
;
}
{
CtImport
ctImport
=
iter
.
next
(
)
;
assertEquals
(
"import java.util.function.Consumer;"
,
contentAtPosition
(
originSources
,
ctImport
.
getPosition
(
)
)
)
;
}
}
