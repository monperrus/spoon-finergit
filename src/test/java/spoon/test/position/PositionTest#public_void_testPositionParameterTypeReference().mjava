@Test
public
void
testPositionParameterTypeReference
(
)
throws
Exception
{
final
CtType
<
?
>
foo
=
buildClass
(
PositionParameterTypeWithReference
.
class
)
;
String
classContent
=
getClassContent
(
foo
)
;
CtTypeReference
<
?
>
field2Type
=
foo
.
getField
(
"field2"
)
.
getType
(
)
;
assertEquals
(
"List<T>[][]"
,
contentAtPosition
(
classContent
,
field2Type
.
getPosition
(
)
)
)
;
CtTypeReference
<
?
>
field1Type
=
foo
.
getField
(
"field1"
)
.
getType
(
)
;
assertEquals
(
"List<T>"
,
contentAtPosition
(
classContent
,
field1Type
.
getPosition
(
)
)
)
;
CtTypeReference
<
?
>
field3Type
=
foo
.
getField
(
"field3"
)
.
getType
(
)
;
assertEquals
(
"List<T // */ >\n\t/*// */>"
,
contentAtPosition
(
classContent
,
field3Type
.
getPosition
(
)
)
)
;
CtTypeReference
<
?
>
field4Type
=
foo
.
getField
(
"field4"
)
.
getType
(
)
;
assertEquals
(
"List<List<?>>"
,
contentAtPosition
(
classContent
,
field4Type
.
getPosition
(
)
)
)
;
}
