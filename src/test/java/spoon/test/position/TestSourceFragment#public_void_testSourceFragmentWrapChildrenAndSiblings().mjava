@Test
public
void
testSourceFragmentWrapChildrenAndSiblings
(
)
{
ElementSourceFragment
rootFragment
=
createFragment
(
0
,
100
)
;
ElementSourceFragment
child
=
createFragment
(
50
,
60
)
;
rootFragment
.
add
(
child
)
;
ElementSourceFragment
childWrapper
=
createFragment
(
40
,
70
)
;
ElementSourceFragment
childA
=
createFragment
(
40
,
50
)
;
ElementSourceFragment
childB
=
createFragment
(
50
,
55
)
;
ElementSourceFragment
childC
=
createFragment
(
60
,
65
)
;
ElementSourceFragment
childD
=
createFragment
(
65
,
70
)
;
assertSame
(
childWrapper
,
childWrapper
.
add
(
childA
)
.
add
(
childB
)
.
add
(
childC
)
.
add
(
childD
)
)
;
rootFragment
.
add
(
childWrapper
)
;
assertSame
(
rootFragment
.
getFirstChild
(
)
,
childWrapper
)
;
assertSame
(
childA
,
childWrapper
.
getFirstChild
(
)
)
;
assertSame
(
child
,
childA
.
getNextSibling
(
)
)
;
assertSame
(
childB
,
child
.
getFirstChild
(
)
)
;
assertSame
(
childC
,
child
.
getNextSibling
(
)
)
;
assertSame
(
childD
,
childC
.
getNextSibling
(
)
)
;
}
