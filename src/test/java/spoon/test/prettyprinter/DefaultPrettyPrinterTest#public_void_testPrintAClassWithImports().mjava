@Test
public
void
testPrintAClassWithImports
(
)
throws
Exception
{
final
Launcher
launcher
=
new
Launcher
(
)
;
final
Factory
factory
=
launcher
.
getFactory
(
)
;
factory
.
getEnvironment
(
)
.
setAutoImports
(
true
)
;
final
SpoonCompiler
compiler
=
launcher
.
createCompiler
(
)
;
compiler
.
addInputSource
(
new
File
(
"./src/test/java/spoon/test/prettyprinter/testclasses/"
)
)
;
compiler
.
build
(
)
;
final
CtClass
<
?
>
aClass
=
(
CtClass
<
?
>
)
factory
.
Type
(
)
.
get
(
AClass
.
class
)
;
final
String
expected
=
"public class AClass {"
+
System
.
lineSeparator
(
)
+
"    public List<?> aMethod() {"
+
System
.
lineSeparator
(
)
+
"        return new ArrayList<java.lang.Object>();"
+
System
.
lineSeparator
(
)
+
"    }"
+
System
.
lineSeparator
(
)
+
"}"
;
assertEquals
(
expected
,
aClass
.
toString
(
)
)
;
}
