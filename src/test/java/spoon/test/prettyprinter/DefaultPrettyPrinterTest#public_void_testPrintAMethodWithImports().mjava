@Test
public
void
testPrintAMethodWithImports
(
)
throws
Exception
{
final
Launcher
launcher
=
new
Launcher
(
)
;
final
Factory
factory
=
launcher
.
getFactory
(
)
;
factory
.
getEnvironment
(
)
.
setAutoImports
(
true
)
;
final
SpoonCompiler
compiler
=
launcher
.
createCompiler
(
)
;
compiler
.
addInputSource
(
new
File
(
"./src/test/java/spoon/test/prettyprinter/testclasses/"
)
)
;
compiler
.
build
(
)
;
final
CtClass
<
?
>
aClass
=
(
CtClass
<
?
>
)
factory
.
Type
(
)
.
get
(
AClass
.
class
)
;
final
String
expected
=
"public List<?> aMethod() {"
+
System
.
lineSeparator
(
)
+
"    return new ArrayList<java.lang.Object>();"
+
System
.
lineSeparator
(
)
+
"}"
;
assertEquals
(
expected
,
aClass
.
getMethodsByName
(
"aMethod"
)
.
get
(
0
)
.
toString
(
)
)
;
}
