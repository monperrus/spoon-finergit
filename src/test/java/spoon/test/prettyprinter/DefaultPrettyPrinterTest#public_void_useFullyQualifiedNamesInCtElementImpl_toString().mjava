@Test
public
void
useFullyQualifiedNamesInCtElementImpl_toString
(
)
throws
Exception
{
Factory
factory
=
build
(
AClass
.
class
)
;
factory
.
getEnvironment
(
)
.
setAutoImports
(
false
)
;
final
CtClass
<
?
>
aClass
=
(
CtClass
<
?
>
)
factory
.
Type
(
)
.
get
(
AClass
.
class
)
;
String
computed
=
aClass
.
getMethodsByName
(
"aMethod"
)
.
get
(
0
)
.
toString
(
)
;
final
String
expected
=
"public java.util.List<?> aMethod() {"
+
nl
+
"    return new java.util.ArrayList<>();"
+
nl
+
"}"
;
assertEquals
(
"the toString method of CtElementImpl should not shorten type names as it has no context or import statements"
,
expected
,
computed
)
;
}
