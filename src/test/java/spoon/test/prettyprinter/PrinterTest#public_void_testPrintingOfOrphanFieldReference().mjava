@Test
public
void
testPrintingOfOrphanFieldReference
(
)
throws
Exception
{
CtType
<
?
>
type
=
ModelUtils
.
buildClass
(
MissingVariableDeclaration
.
class
)
;
type
.
getField
(
"testedField"
)
.
delete
(
)
;
assertEquals
(
"/* ERROR: Missing field \"testedField\", please check your model. The code may not compile. */ testedField = 1"
,
type
.
getMethodsByName
(
"failingMethod"
)
.
get
(
0
)
.
getBody
(
)
.
getStatement
(
0
)
.
toString
(
)
)
;
}
