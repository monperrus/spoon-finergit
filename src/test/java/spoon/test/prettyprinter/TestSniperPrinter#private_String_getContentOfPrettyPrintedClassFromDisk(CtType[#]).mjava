private
String
getContentOfPrettyPrintedClassFromDisk
(
CtType
<
?
>
type
)
{
Factory
f
=
type
.
getFactory
(
)
;
File
outputDir
=
f
.
getEnvironment
(
)
.
getSourceOutputDirectory
(
)
;
File
outputFile
=
new
File
(
outputDir
,
type
.
getQualifiedName
(
)
.
replace
(
'.'
,
'/'
)
+
".java"
)
;
byte
[
]
content
=
new
byte
[
]
;
try
(
InputStream
is
=
new
FileInputStream
(
outputFile
)
)
{
is
.
read
(
content
)
;
}
catch
(
IOException
e
)
{
throw
new
RuntimeException
(
"Reading of "
+
outputFile
.
getAbsolutePath
(
)
+
" failed"
,
e
)
;
}
try
{
return
new
String
(
content
,
"ISO-8859-1"
)
;
}
catch
(
UnsupportedEncodingException
e
)
{
throw
new
RuntimeException
(
e
)
;
}
}
