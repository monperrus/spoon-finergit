/** 
 * checks that printed code contains only expected changes
 */
private
void
assertIsPrintedWithExpectedChanges
(
CtType
<
?
>
ctClass
,
String
printedSource
,
String
...
regExpReplacements
)
{
assertEquals
(
0
,
regExpReplacements
.
length
%
2
)
;
String
originSource
=
ctClass
.
getPosition
(
)
.
getCompilationUnit
(
)
.
getOriginalSourceCode
(
)
;
int
nrChanges
=
regExpReplacements
.
length
/
2
;
for
(
int
i
=
0
;
i
<
nrChanges
;
i
++
)
{
String
str
=
regExpReplacements
[
i
]
;
String
replacement
=
regExpReplacements
[
i
*
2
+
1
]
;
originSource
=
originSource
.
replaceAll
(
str
,
replacement
)
;
}
assertEquals
(
originSource
,
printedSource
)
;
}
