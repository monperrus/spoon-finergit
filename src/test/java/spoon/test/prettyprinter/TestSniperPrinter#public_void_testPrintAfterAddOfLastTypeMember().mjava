@Test
public
void
testPrintAfterAddOfLastTypeMember
(
)
{
class
Context
{
CtField
<
?
>
newField
;
}
Context
context
=
new
Context
(
)
;
testSniper
(
ToBeChanged
.
class
.
getName
(
)
,
type
->
{
Factory
f
=
type
.
getFactory
(
)
;
context
.
newField
=
f
.
createField
(
type
,
Collections
.
singleton
(
ModifierKind
.
PRIVATE
)
,
f
.
Type
(
)
.
DATE
,
"dateField"
)
;
type
.
addTypeMember
(
context
.
newField
)
;
}
,
(
type
,
printed
)
->
{
String
lastMemberString
=
"new List<?>[7][];"
;
assertIsPrintedWithExpectedChanges
(
type
,
printed
,
"\\Q"
+
lastMemberString
+
"\\E"
,
lastMemberString
+
"\n\n\t"
+
context
.
newField
.
toString
(
)
)
;
}
)
;
}
