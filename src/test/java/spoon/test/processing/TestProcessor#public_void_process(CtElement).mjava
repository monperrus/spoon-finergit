public
void
process
(
CtElement
element
)
{
if
(
(
!
(
element
instanceof
CtPackage
)
)
&&
!
element
.
isParentInitialized
(
)
)
{
getEnvironment
(
)
.
report
(
this
,
Severity
.
ERROR
,
element
,
"Element's parent is null ("
+
element
+
")"
)
;
throw
new
RuntimeException
(
"uninitialized parent detected"
)
;
}
if
(
element
instanceof
CtTypedElement
)
{
if
(
(
(
CtTypedElement
<
?
>
)
element
)
.
getType
(
)
==
null
)
{
getEnvironment
(
)
.
report
(
this
,
Severity
.
WARNING
,
element
,
"Element's type is null ("
+
element
+
")"
)
;
}
}
if
(
element
instanceof
CtClass
)
{
CtClass
<
?
>
c
=
(
CtClass
<
?
>
)
element
;
if
(
c
.
getSimpleName
(
)
.
equals
(
"Secondary"
)
)
{
@SuppressWarnings("unused")
CompilationUnit
cu
=
c
.
getPosition
(
)
.
getCompilationUnit
(
)
;
}
if
(
c
.
getSimpleName
(
)
.
equals
(
"C1"
)
)
{
Substitution
.
insertAll
(
c
,
new
TemplateWithConstructor
(
getFactory
(
)
.
Type
(
)
.
createReference
(
Date
.
class
)
)
)
;
}
}
}
