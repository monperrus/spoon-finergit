private
void
rollback
(
CtLocalVariable
<
?
>
targetVariable
,
String
originName
)
{
String
newName
=
targetVariable
.
getSimpleName
(
)
;
CtRenameLocalVariableRefactoring
refactor
=
new
CtRenameLocalVariableRefactoring
(
)
;
refactor
.
setTarget
(
targetVariable
)
;
refactor
.
setNewName
(
originName
)
;
try
{
refactor
.
refactor
(
)
;
}
catch
(
SpoonException
e
)
{
throw
new
AssertionError
(
getParentMethodName
(
targetVariable
)
+
" Rename of \""
+
originName
+
"\" to \""
+
newName
+
"\" passed, but rename back to \""
+
originName
+
"\" failed"
,
e
)
;
}
}
