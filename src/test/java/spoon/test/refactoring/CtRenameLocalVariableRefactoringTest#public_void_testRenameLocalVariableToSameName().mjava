@Test
public
void
testRenameLocalVariableToSameName
(
)
throws
Exception
{
CtType
varRenameClass
=
ModelUtils
.
buildClass
(
CtRenameLocalVariableRefactoringTestSubject
.
class
)
;
CtLocalVariable
<
?
>
local1Var
=
varRenameClass
.
filterChildren
(
(
CtLocalVariable
<
?
>
var
)
->
var
.
getSimpleName
(
)
.
equals
(
"local1"
)
)
.
first
(
)
;
CtRenameLocalVariableRefactoring
refactor
=
new
CtRenameLocalVariableRefactoring
(
)
;
refactor
.
setTarget
(
local1Var
)
;
refactor
.
setNewName
(
"local1"
)
;
refactor
.
refactor
(
)
;
assertEquals
(
"local1"
,
local1Var
.
getSimpleName
(
)
)
;
}
