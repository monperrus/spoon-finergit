private
List
<
CtExecutable
<
?
>
>
getExecutablesOfHierarchy
(
Factory
factory
,
String
hierarchyName
)
{
return
factory
.
getModel
(
)
.
filterChildren
(
new
TypeFilter
(
CtExecutable
.
class
)
)
.
select
(
(
CtExecutable
<
?
>
exec
)
->
{
CtElement
ele
=
exec
;
if
(
exec
instanceof
CtLambda
)
{
List
<
CtStatement
>
stats
=
exec
.
getBody
(
)
.
getStatements
(
)
;
if
(
!
stats
.
isEmpty
(
)
)
{
ele
=
stats
.
get
(
0
)
;
}
}
TestHierarchy
th
=
ele
.
getAnnotation
(
TestHierarchy
.
class
)
;
if
(
th
!=
null
)
{
return
Arrays
.
asList
(
th
.
value
(
)
)
.
contains
(
hierarchyName
)
;
}
return
false
;
}
)
.
list
(
)
;
}
