@Test
public
void
testExecutableReferences
(
)
throws
Exception
{
List
<
CtClass
<
?
>
>
classes
=
Query
.
getElements
(
factory
,
new
TypeFilter
<
CtClass
<
?
>
>
(
CtClass
.
class
)
)
;
List
<
CtExecutableReference
<
?
>
>
refsExecutableClass1
=
Query
.
getReferences
(
classes
.
get
(
0
)
,
new
AbstractReferenceFilter
<
CtExecutableReference
<
?
>
>
(
CtExecutableReference
.
class
)
{
public
boolean
matches
(
CtExecutableReference
<
?
>
reference
)
{
return
true
;
}
}
)
;
List
<
CtExecutableReference
<
?
>
>
refsExecutableClass2
=
Query
.
getReferences
(
classes
.
get
(
1
)
,
new
AbstractReferenceFilter
<
CtExecutableReference
<
?
>
>
(
CtExecutableReference
.
class
)
{
public
boolean
matches
(
CtExecutableReference
<
?
>
reference
)
{
return
true
;
}
}
)
;
assertEquals
(
9
,
refsExecutableClass1
.
size
(
)
)
;
for
(
CtExecutableReference
<
?
>
ref
:
refsExecutableClass1
)
{
assertNotNull
(
ref
)
;
if
(
!
ref
.
toString
(
)
.
equals
(
"java.lang.Object.Object"
)
)
{
assertNotNull
(
ref
.
getDeclaration
(
)
)
;
}
}
assertEquals
(
9
,
refsExecutableClass2
.
size
(
)
)
;
for
(
CtExecutableReference
<
?
>
ref
:
refsExecutableClass2
)
{
assertNotNull
(
ref
)
;
if
(
!
ref
.
toString
(
)
.
equals
(
"java.lang.Object.Object"
)
)
{
assertNotNull
(
ref
.
getDeclaration
(
)
)
;
}
}
}
