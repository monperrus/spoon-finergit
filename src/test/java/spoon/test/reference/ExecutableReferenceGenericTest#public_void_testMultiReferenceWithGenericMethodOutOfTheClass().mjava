@Test
public
void
testMultiReferenceWithGenericMethodOutOfTheClass
(
)
throws
Exception
{
final
CtClass
<
?
>
clazz2
=
getCtClassByName
(
"MyClass2"
)
;
final
CtClass
<
?
>
clazz3
=
getCtClassByName
(
"MyClass3"
)
;
CtMethod
<
?
>
methodC
=
getCtMethodByNameFromCtClass
(
clazz2
,
"methodC"
)
;
List
<
CtExecutableReference
<
?
>
>
refsMethodC
=
getReferencesOfAMethod
(
methodC
)
;
CtMethod
<
?
>
expectedMethodI
=
getCtMethodByNameFromCtClass
(
clazz3
,
"methodI"
)
;
CtMethod
<
?
>
expectedMethodII
=
getCtMethodByNameFromCtClass
(
clazz3
,
"methodII"
)
;
assertEquals
(
2
,
refsMethodC
.
size
(
)
)
;
assertEquals
(
expectedMethodI
,
refsMethodC
.
get
(
0
)
.
getDeclaration
(
)
)
;
assertEquals
(
expectedMethodII
,
refsMethodC
.
get
(
1
)
.
getDeclaration
(
)
)
;
}
