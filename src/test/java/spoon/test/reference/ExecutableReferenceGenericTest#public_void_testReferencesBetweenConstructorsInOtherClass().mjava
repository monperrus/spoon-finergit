@Test
public
void
testReferencesBetweenConstructorsInOtherClass
(
)
throws
Exception
{
final
List
<
CtConstructor
>
constructors
=
getConstructorsByClass
(
"MyClass2"
)
;
final
CtConstructor
ctConstructor
=
constructors
.
get
(
0
)
;
final
List
<
CtExecutableReference
>
refConstructors
=
getCtConstructorsByCtConstructor
(
ctConstructor
)
;
final
CtClass
<
?
>
clazz1
=
getCtClassByName
(
"MyClass"
)
;
final
CtConstructor
emptyConstructorClass1
=
getConstructorsByClass
(
clazz1
.
getSimpleName
(
)
)
.
get
(
0
)
;
final
CtClass
<
?
>
clazz3
=
getCtClassByName
(
"MyClass3"
)
;
final
CtConstructor
emptyConstructorClass3
=
getConstructorsByClass
(
clazz3
.
getSimpleName
(
)
)
.
get
(
0
)
;
assertEquals
(
3
,
refConstructors
.
size
(
)
)
;
assertEquals
(
0
,
emptyConstructorClass1
.
getParameters
(
)
.
size
(
)
)
;
assertEquals
(
0
,
emptyConstructorClass3
.
getParameters
(
)
.
size
(
)
)
;
assertNull
(
refConstructors
.
get
(
0
)
.
getDeclaration
(
)
)
;
assertEquals
(
emptyConstructorClass1
,
refConstructors
.
get
(
1
)
.
getDeclaration
(
)
)
;
assertEquals
(
emptyConstructorClass3
,
refConstructors
.
get
(
2
)
.
getDeclaration
(
)
)
;
}
