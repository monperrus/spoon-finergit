@Test
public
void
testReferencesBetweenMethods
(
)
{
final
CtClass
<
?
>
clazz2
=
getCtClassByName
(
"MyClass2"
)
;
CtMethod
<
?
>
methodD
=
getCtMethodByNameFromCtClass
(
clazz2
,
"methodD"
)
;
List
<
CtExecutableReference
<
?
>
>
refsMethodD
=
getReferencesOfAMethod
(
methodD
)
;
CtMethod
<
?
>
expectedMethodE
=
getCtMethodByNameFromCtClass
(
clazz2
,
"methodE"
)
;
assertEquals
(
1
,
refsMethodD
.
size
(
)
)
;
assertEquals
(
expectedMethodE
,
refsMethodD
.
get
(
0
)
.
getDeclaration
(
)
)
;
List
<
CtExecutableReference
<
?
>
>
refsMethodE
=
getReferencesOfAMethod
(
expectedMethodE
)
;
CtMethod
<
?
>
expectedMethodF
=
getCtMethodByNameFromCtClass
(
clazz2
,
"methodF"
)
;
assertEquals
(
1
,
refsMethodE
.
size
(
)
)
;
assertEquals
(
expectedMethodF
,
refsMethodE
.
get
(
0
)
.
getDeclaration
(
)
)
;
}
