@Test
public
void
testCreateReferenceForAnonymousExecutable
(
)
{
final
spoon
.
Launcher
launcher
=
new
spoon
.
Launcher
(
)
;
launcher
.
addInputResource
(
"src/test/resources/noclasspath/Foo4.java"
)
;
launcher
.
getEnvironment
(
)
.
setNoClasspath
(
true
)
;
launcher
.
getEnvironment
(
)
.
setComplianceLevel
(
8
)
;
launcher
.
buildModel
(
)
;
launcher
.
getModel
(
)
.
getElements
(
new
TypeFilter
<
CtExecutable
<
?
>
>
(
CtExecutable
.
class
)
{
@Override
public
boolean
matches
(
final
CtExecutable
<
?
>
exec
)
{
try
{
exec
.
getReference
(
)
;
}
catch
(
ClassCastException
ex
)
{
fail
(
ex
.
getMessage
(
)
)
;
}
return
super
.
matches
(
exec
)
;
}
}
)
;
}
