@Test
public
void
testEqualityTypeReference
(
)
throws
Exception
{
CtClass
<
ParamRefs
>
aClass
=
(
CtClass
)
buildClass
(
ParamRefs
.
class
)
;
CtParameter
<
?
>
parameter
=
aClass
.
getElements
(
new
NamedElementFilter
<
>
(
CtParameter
.
class
,
"param"
)
)
.
get
(
0
)
;
CtParameterReference
<
?
>
parameterRef1
=
parameter
.
getReference
(
)
;
CtParameterReference
<
?
>
parameterRef2
=
aClass
.
getElements
(
(
CtParameterReference
<
?
>
ref
)
->
"param"
.
equals
(
ref
.
getSimpleName
(
)
)
)
.
get
(
0
)
;
assertNull
(
parameterRef1
.
getDeclaringExecutable
(
)
)
;
assertEquals
(
aClass
.
getReference
(
)
,
parameterRef2
.
getDeclaringExecutable
(
)
.
getType
(
)
)
;
assertEquals
(
parameterRef1
,
parameterRef2
)
;
}
