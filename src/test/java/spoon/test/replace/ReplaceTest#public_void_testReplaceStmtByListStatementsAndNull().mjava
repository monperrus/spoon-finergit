@Test
public
void
testReplaceStmtByListStatementsAndNull
(
)
{
CtClass
<
?
>
sample
=
factory
.
Package
(
)
.
get
(
"spoon.test.replace.testclasses"
)
.
getType
(
"Foo"
)
;
CtStatement
stmt
=
sample
.
getMethod
(
"retry"
)
.
getBody
(
)
.
getStatement
(
0
)
;
List
<
CtStatement
>
lst
=
sample
.
getMethod
(
"statements"
)
.
getBody
(
)
.
getStatements
(
)
;
List
<
CtStatement
>
lstWithNulls
=
new
ArrayList
<
>
(
)
;
lstWithNulls
.
add
(
null
)
;
lstWithNulls
.
add
(
lst
.
get
(
0
)
)
;
lstWithNulls
.
add
(
null
)
;
lstWithNulls
.
add
(
lst
.
get
(
1
)
)
;
lstWithNulls
.
add
(
null
)
;
stmt
.
replace
(
lstWithNulls
)
;
assertEquals
(
2
,
sample
.
getMethod
(
"retry"
)
.
getBody
(
)
.
getStatements
(
)
.
size
(
)
)
;
}
