@Test
public
void
testMethodInvocationSignatureStaticFieldsVariables
(
)
{
Factory
factory
=
new
FactoryImpl
(
new
DefaultCoreFactory
(
)
,
new
StandardEnvironment
(
)
)
;
CtStatement
sta1
=
(
factory
)
.
Code
(
)
.
createCodeSnippetStatement
(
"Integer.toBinaryString(Integer.MAX_VALUE)"
)
.
compile
(
)
;
CtStatement
sta2
=
(
factory
)
.
Code
(
)
.
createCodeSnippetStatement
(
"Integer.toBinaryString(Integer.MIN_VALUE)"
)
.
compile
(
)
;
String
signature1
=
(
(
CtInvocation
)
sta1
)
.
getExecutable
(
)
.
getSignature
(
)
;
String
signature2
=
(
(
CtInvocation
)
sta2
)
.
getExecutable
(
)
.
getSignature
(
)
;
assertEquals
(
signature1
,
signature2
)
;
assertFalse
(
sta1
.
equals
(
sta2
)
)
;
CtStatement
stb1
=
(
factory
)
.
Code
(
)
.
createCodeSnippetStatement
(
"Integer.toBinaryString(20)"
)
.
compile
(
)
;
CtStatement
stb2
=
(
factory
)
.
Code
(
)
.
createCodeSnippetStatement
(
"Integer.toBinaryString(30)"
)
.
compile
(
)
;
String
signature1b
=
(
(
CtInvocation
)
sta1
)
.
getExecutable
(
)
.
getSignature
(
)
;
String
signature2b
=
(
(
CtInvocation
)
sta2
)
.
getExecutable
(
)
.
getSignature
(
)
;
assertEquals
(
signature1b
,
signature2b
)
;
assertFalse
(
stb1
.
equals
(
stb2
)
)
;
CtStatement
stc1
=
(
factory
)
.
Code
(
)
.
createCodeSnippetStatement
(
"String.format(\"format1\",\"f2\" )"
)
.
compile
(
)
;
CtStatement
stc2
=
(
factory
)
.
Code
(
)
.
createCodeSnippetStatement
(
"String.format(\"format2\",\"f2\" )"
)
.
compile
(
)
;
String
signaturestc1
=
(
(
CtInvocation
)
sta1
)
.
getExecutable
(
)
.
getSignature
(
)
;
String
signaturestc2
=
(
(
CtInvocation
)
sta2
)
.
getExecutable
(
)
.
getSignature
(
)
;
assertEquals
(
signaturestc1
,
signaturestc2
)
;
assertFalse
(
stc1
.
equals
(
stc2
)
)
;
}
