@Test
public
void
testNullSignature
(
)
throws
Exception
{
Factory
factory
=
new
Launcher
(
)
.
createFactory
(
)
;
CtClass
<
?
>
clazz
=
factory
.
Code
(
)
.
createCodeSnippetStatement
(
""
+
"class X {"
+
"public Object foo() {"
+
" return null;"
+
"}};"
)
.
compile
(
)
;
CtReturn
<
?
>
returnEl
=
clazz
.
getElements
(
new
TypeFilter
<
>
(
CtReturn
.
class
)
)
.
get
(
0
)
;
CtExpression
<
?
>
lit
=
returnEl
.
getReturnedExpression
(
)
;
assertTrue
(
lit
instanceof
CtLiteral
)
;
assertEquals
(
"null"
,
lit
.
toString
(
)
)
;
CtLiteral
<
?
>
lit2
=
(
(
CtLiteral
<
?
>
)
lit
)
.
clone
(
)
;
HashSet
<
CtExpression
<
?
>
>
s
=
new
HashSet
<
CtExpression
<
?
>
>
(
)
;
s
.
add
(
lit
)
;
s
.
add
(
lit2
)
;
}
