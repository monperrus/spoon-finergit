@Test
public
void
testCompileSnippetSeveralTimes
(
)
{
final
Factory
factory
=
createFactory
(
)
;
final
CtCodeSnippetExpression
<
Object
>
snippet
=
factory
.
Code
(
)
.
createCodeSnippetExpression
(
"1 > 2"
)
;
final
CtExpression
<
Object
>
compile
=
snippet
.
compile
(
)
;
final
CtExpression
<
Object
>
secondCompile
=
snippet
.
compile
(
)
;
assertTrue
(
compile
instanceof
CtBinaryOperator
)
;
assertEquals
(
"1 > 2"
,
compile
.
toString
(
)
)
;
assertTrue
(
secondCompile
instanceof
CtBinaryOperator
)
;
assertEquals
(
"1 > 2"
,
secondCompile
.
toString
(
)
)
;
snippet
.
setValue
(
"1 > 3"
)
;
final
CtExpression
<
Object
>
thirdCompile
=
snippet
.
compile
(
)
;
assertTrue
(
thirdCompile
instanceof
CtBinaryOperator
)
;
assertEquals
(
"1 > 3"
,
thirdCompile
.
toString
(
)
)
;
}
