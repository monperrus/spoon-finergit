/** 
 * @param pathToClass path to the class that will be Spoonified
 * @param i an integer to avoid duplicated classesThis method verifies that SpoonifyVisitor can generate code that replicates a class
 */
public
void
testSpoonifierWith
(
String
pathToClass
,
int
i
)
throws
ClassNotFoundException
,
MalformedURLException
,
InvocationTargetException
,
IllegalAccessException
,
NoSuchMethodException
{
Launcher
launcher
=
new
Launcher
(
)
;
launcher
.
addInputResource
(
pathToClass
)
;
CtModel
model
=
launcher
.
buildModel
(
)
;
List
<
CtType
>
l
=
model
.
getElements
(
new
TypeFilter
<
CtType
>
(
CtType
.
class
)
)
;
if
(
l
.
isEmpty
(
)
)
return
;
CtType
targetType
=
l
.
get
(
0
)
;
testSpoonifierWith
(
targetType
,
i
)
;
}
