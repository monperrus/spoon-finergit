@Test
public
void
testImplicitStaticFieldReference
(
)
throws
Exception
{
Launcher
launcher
=
checkFile
(
false
,
"ImplicitStaticFieldReference.java"
)
;
if
(
expectImplicit
)
{
CtClass
<
?
>
cls
=
launcher
.
getFactory
(
)
.
Class
(
)
.
get
(
ImplicitStaticFieldReference
.
class
)
;
assertEquals
(
"return ImplicitStaticFieldReference"
,
cls
.
getMethod
(
"reader"
)
.
getBody
(
)
.
getStatements
(
)
.
get
(
0
)
.
toString
(
)
)
;
assertEquals
(
"ImplicitStaticFieldReference = value"
,
cls
.
getMethodsByName
(
"writer"
)
.
get
(
0
)
.
getBody
(
)
.
getStatements
(
)
.
get
(
0
)
.
toString
(
)
)
;
assertEquals
(
"reader()"
,
cls
.
getMethodsByName
(
"testLocalMethodInvocations"
)
.
get
(
0
)
.
getBody
(
)
.
getStatements
(
)
.
get
(
0
)
.
toString
(
)
)
;
assertEquals
(
"longWriter(7)"
,
cls
.
getMethodsByName
(
"testLocalMethodInvocations"
)
.
get
(
0
)
.
getBody
(
)
.
getStatements
(
)
.
get
(
1
)
.
toString
(
)
)
;
}
}
