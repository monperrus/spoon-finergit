private
void
assertEqualsFieldAccess
(
ExpectedTargetedExpression
expected
,
CtFieldAccess
<
?
>
fieldAccess
)
{
if
(
expected
.
declaringType
==
null
)
{
assertNull
(
fieldAccess
.
getVariable
(
)
.
getDeclaringType
(
)
)
;
}
else
{
assertEquals
(
expected
.
isLocal
,
fieldAccess
.
getVariable
(
)
.
getDeclaringType
(
)
.
isLocalType
(
)
)
;
assertEquals
(
expected
.
declaringType
.
getQualifiedName
(
)
,
fieldAccess
.
getVariable
(
)
.
getDeclaringType
(
)
.
getQualifiedName
(
)
)
;
}
if
(
expected
.
targetClass
!=
null
)
{
assertEquals
(
expected
.
targetClass
,
fieldAccess
.
getTarget
(
)
.
getClass
(
)
)
;
}
else
if
(
expected
.
targetString
!=
null
)
{
assertEquals
(
expected
.
targetString
,
fieldAccess
.
getTarget
(
)
.
toString
(
)
)
;
}
assertEquals
(
expected
.
result
,
fieldAccess
.
toString
(
)
)
;
if
(
expected
.
type
!=
null
)
{
assertTrue
(
expected
.
type
.
isInstance
(
fieldAccess
)
)
;
}
}
