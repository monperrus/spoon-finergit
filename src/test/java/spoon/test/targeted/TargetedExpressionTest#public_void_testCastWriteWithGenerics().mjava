@Test
public
void
testCastWriteWithGenerics
(
)
throws
Exception
{
final
Factory
factory
=
build
(
Pozole
.
class
)
;
final
CtClass
<
Object
>
aPozole
=
factory
.
Class
(
)
.
get
(
Pozole
.
class
)
;
final
CtConstructor
<
Object
>
aConstructor
=
aPozole
.
getConstructor
(
aPozole
.
getReference
(
)
)
;
final
List
<
CtFieldRead
>
elements
=
aConstructor
.
getElements
(
new
TypeFilter
<
>
(
CtFieldRead
.
class
)
)
;
assertEquals
(
1
,
elements
.
size
(
)
)
;
assertEquals
(
"((spoon.test.targeted.testclasses.Pozole<T>) (v1))"
,
elements
.
get
(
0
)
.
getTarget
(
)
.
toString
(
)
)
;
}
