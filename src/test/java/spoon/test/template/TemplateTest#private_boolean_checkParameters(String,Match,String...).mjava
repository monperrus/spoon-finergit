private
boolean
checkParameters
(
String
methodName
,
Match
match
,
String
...
keyValues
)
{
if
(
methodName
.
equals
(
getMethodName
(
match
.
getMatchingElement
(
)
)
)
)
{
assertEquals
(
"The arguments of keyValues must be in pairs"
,
0
,
keyValues
.
length
%
2
)
;
Map
<
String
,
Object
>
allParams
=
new
HashMap
<
>
(
match
.
getParameters
(
)
.
asMap
(
)
)
;
int
count
=
keyValues
.
length
/
2
;
for
(
int
i
=
0
;
i
<
count
;
i
++
)
{
String
key
=
keyValues
[
i
*
2
]
;
String
expectedValue
=
keyValues
[
i
*
2
+
1
]
;
Object
realValue
=
allParams
.
remove
(
key
)
;
assertEquals
(
"parameter "
+
key
,
expectedValue
,
getOptimizedString
(
realValue
)
)
;
}
assertTrue
(
"Unexpected parameter values: "
+
allParams
,
allParams
.
isEmpty
(
)
)
;
return
true
;
}
return
false
;
}
