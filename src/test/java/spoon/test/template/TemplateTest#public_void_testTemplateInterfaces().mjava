@Test
public
void
testTemplateInterfaces
(
)
throws
Exception
{
Launcher
spoon
=
new
Launcher
(
)
;
Factory
factory
=
spoon
.
getFactory
(
)
;
spoon
.
createCompiler
(
factory
,
SpoonResourceHelper
.
resources
(
"./src/test/java/spoon/test/template/SubClass.java"
)
,
SpoonResourceHelper
.
resources
(
"./src/test/java/spoon/test/template/InterfaceTemplate.java"
)
)
.
build
(
)
;
CtClass
<
?
>
superc
=
factory
.
Class
(
)
.
get
(
SuperClass
.
class
)
;
InterfaceTemplate
interfaceTemplate
=
new
InterfaceTemplate
(
superc
.
getFactory
(
)
)
;
interfaceTemplate
.
apply
(
superc
)
;
assertEquals
(
3
,
superc
.
getSuperInterfaces
(
)
.
size
(
)
)
;
assertTrue
(
superc
.
getSuperInterfaces
(
)
.
contains
(
factory
.
Type
(
)
.
createReference
(
Comparable
.
class
)
)
)
;
assertTrue
(
superc
.
getSuperInterfaces
(
)
.
contains
(
factory
.
Type
(
)
.
createReference
(
Serializable
.
class
)
)
)
;
assertTrue
(
superc
.
getSuperInterfaces
(
)
.
contains
(
factory
.
Type
(
)
.
createReference
(
Remote
.
class
)
)
)
;
}
