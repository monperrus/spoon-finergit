@Test
public
void
testAppendIntoList
(
)
{
ParameterInfo
parameter
=
new
MapParameterInfo
(
"years"
)
.
setContainerKind
(
ContainerKind
.
LIST
)
;
ImmutableMap
params
=
parameter
.
addValueAs
(
null
,
1000
)
;
assertNotNull
(
params
)
;
assertEquals
(
map
(
)
.
put
(
"years"
,
Arrays
.
asList
(
1000
)
)
,
params
.
asMap
(
)
)
;
params
=
parameter
.
addValueAs
(
params
,
100
)
;
assertNotNull
(
params
)
;
assertEquals
(
map
(
)
.
put
(
"years"
,
Arrays
.
asList
(
1000
,
100
)
)
,
params
.
asMap
(
)
)
;
params
=
parameter
.
addValueAs
(
params
,
"a"
)
;
assertNotNull
(
params
)
;
assertEquals
(
map
(
)
.
put
(
"years"
,
Arrays
.
asList
(
1000
,
100
,
"a"
)
)
,
params
.
asMap
(
)
)
;
params
=
parameter
.
addValueAs
(
params
,
"a"
)
;
assertNotNull
(
params
)
;
assertEquals
(
map
(
)
.
put
(
"years"
,
Arrays
.
asList
(
1000
,
100
,
"a"
,
"a"
)
)
,
params
.
asMap
(
)
)
;
}
