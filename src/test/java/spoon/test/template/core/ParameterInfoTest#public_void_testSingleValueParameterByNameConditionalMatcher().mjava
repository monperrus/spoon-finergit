@Test
public
void
testSingleValueParameterByNameConditionalMatcher
(
)
{
ParameterInfo
namedParam
=
new
MapParameterInfo
(
"year"
)
.
setMatchCondition
(
Integer
.
class
,
i
->
i
>
2000
)
;
ImmutableMap
val
=
namedParam
.
addValueAs
(
null
,
2018
)
;
assertNotNull
(
val
)
;
assertEquals
(
map
(
)
.
put
(
"year"
,
2018
)
,
val
.
asMap
(
)
)
;
assertNull
(
namedParam
.
addValueAs
(
null
,
1000
)
)
;
assertNull
(
namedParam
.
addValueAs
(
null
,
"3000"
)
)
;
assertNull
(
namedParam
.
addValueAs
(
new
ImmutableMapImpl
(
)
.
putValue
(
"year"
,
3000
)
,
2018
)
)
;
}
