@Test
public
void
testTryWithOneResource
(
)
throws
Exception
{
CtClass
<
?
>
clazz
=
build
(
"spoon.test.trycatch"
,
"TryCatchResourceClass"
)
;
CtMethod
<
?
>
method
=
clazz
.
getMethodsByName
(
"readFirstLineFromFile"
)
.
get
(
0
)
;
CtTry
ctTry
=
method
.
getElements
(
new
TypeFilter
<
CtTry
>
(
CtTry
.
class
)
)
.
get
(
0
)
;
assertTrue
(
ctTry
.
getResources
(
)
.
size
(
)
==
1
)
;
}
