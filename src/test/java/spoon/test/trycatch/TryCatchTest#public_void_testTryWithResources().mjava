@Test
public
void
testTryWithResources
(
)
throws
Exception
{
CtClass
<
?
>
clazz
=
build
(
"spoon.test.trycatch"
,
"TryCatchResourceClass"
)
;
CtMethod
<
?
>
method
=
clazz
.
getMethodsByName
(
"writeToFileZipFileContents"
)
.
get
(
0
)
;
CtTryWithResource
ctTryWithResource
=
method
.
getElements
(
new
TypeFilter
<
CtTryWithResource
>
(
CtTryWithResource
.
class
)
)
.
get
(
0
)
;
assertTrue
(
ctTryWithResource
.
getResources
(
)
.
size
(
)
>
1
)
;
}
