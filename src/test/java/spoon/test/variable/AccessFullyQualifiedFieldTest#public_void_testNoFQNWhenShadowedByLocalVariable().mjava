@Test
public
void
testNoFQNWhenShadowedByLocalVariable
(
)
throws
Exception
{
String
output
=
"target/spooned-"
+
this
.
getClass
(
)
.
getSimpleName
(
)
+
"-Local/"
;
String
pathResource
=
"src/test/java/spoon/test/variable/testclasses/Burritos.java"
;
String
result
=
this
.
buildResourceAndReturnResult
(
pathResource
,
output
)
;
assertTrue
(
"The java file should contain import for Launcher"
,
result
.
contains
(
"import spoon.Launcher;"
)
)
;
assertTrue
(
"The x variable should be attributed with SPOONED_CLASSES"
,
result
.
contains
(
"x = Launcher.SPOONED_CLASSES"
)
)
;
assertTrue
(
"The java.util.Map is not imported"
,
!
result
.
contains
(
"import java.util.Map"
)
)
;
assertTrue
(
"The Map type use FQN"
,
result
.
contains
(
"java.util.Map uneMap"
)
)
;
assertTrue
(
"The other variable use FQN too"
,
result
.
contains
(
"ForStaticVariables.Map"
)
)
;
canBeBuilt
(
output
,
7
)
;
}
