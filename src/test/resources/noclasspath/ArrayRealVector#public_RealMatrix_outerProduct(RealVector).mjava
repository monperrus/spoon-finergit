/** 
 * {@inheritDoc} 
 */
@Override
public
RealMatrix
outerProduct
(
RealVector
v
)
{
if
(
v
instanceof
ArrayRealVector
)
{
final
double
[
]
vData
=
(
(
ArrayRealVector
)
v
)
.
data
;
final
int
m
=
data
.
length
;
final
int
n
=
vData
.
length
;
final
RealMatrix
out
=
MatrixUtils
.
createRealMatrix
(
m
,
n
)
;
for
(
int
i
=
0
;
i
<
m
;
i
++
)
{
for
(
int
j
=
0
;
j
<
n
;
j
++
)
{
out
.
setEntry
(
i
,
j
,
data
[
i
]
*
vData
[
j
]
)
;
}
}
return
out
;
}
else
{
final
int
m
=
data
.
length
;
final
int
n
=
v
.
getDimension
(
)
;
final
RealMatrix
out
=
MatrixUtils
.
createRealMatrix
(
m
,
n
)
;
for
(
int
i
=
0
;
i
<
m
;
i
++
)
{
for
(
int
j
=
0
;
j
<
n
;
j
++
)
{
out
.
setEntry
(
i
,
j
,
data
[
i
]
*
v
.
getEntry
(
j
)
)
;
}
}
return
out
;
}
}
