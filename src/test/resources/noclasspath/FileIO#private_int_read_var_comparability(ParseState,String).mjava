private
static
int
read_var_comparability
(
ParseState
state
,
String
line
)
throws
IOException
{
String
comp_str
=
null
;
if
(
new_decl_format
)
{
Scanner
scanner
=
new
Scanner
(
line
)
;
scanner
.
next
(
)
;
comp_str
=
need
(
state
,
scanner
,
"comparability"
)
;
need_eol
(
state
,
scanner
)
;
}
else
{
comp_str
=
state
.
reader
.
readLine
(
)
;
if
(
comp_str
==
null
)
{
throw
new
Daikon
.
TerminationMessage
(
"Found end of file, expected comparability"
,
state
.
reader
,
state
.
filename
)
;
}
}
if
(
comp_str
.
equals
(
"none"
)
)
{
return
(
VarComparability
.
NONE
)
;
}
else
if
(
comp_str
.
equals
(
"implicit"
)
)
{
return
(
VarComparability
.
IMPLICIT
)
;
}
else
{
throw
new
Daikon
.
TerminationMessage
(
"Unrecognized VarComparability '"
+
comp_str
+
"'"
,
state
.
reader
,
state
.
filename
)
;
}
}
