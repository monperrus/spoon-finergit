/** 
 * Print the invocations in the collection, in order, and suppressing duplicates.
 */
static
void
print_invocations_grouped
(
Collection
<
Invocation
>
invocations
)
{
Map
<
Invocation
,
Integer
>
counter
=
new
HashMap
<
Invocation
,
Integer
>
(
)
;
for
(
Invocation
invok
:
invocations
)
{
invok
=
invok
.
canonicalize
(
)
;
if
(
counter
.
containsKey
(
invok
)
)
{
Integer
oldCount
=
counter
.
get
(
invok
)
;
Integer
newCount
=
new
Integer
(
oldCount
.
intValue
(
)
+
1
)
;
counter
.
put
(
invok
,
newCount
)
;
}
else
{
counter
.
put
(
invok
,
new
Integer
(
1
)
)
;
}
}
TreeSet
<
Invocation
>
keys
=
new
TreeSet
<
Invocation
>
(
counter
.
keySet
(
)
)
;
for
(
Invocation
invok
:
keys
)
{
Integer
count
=
counter
.
get
(
invok
)
;
System
.
out
.
println
(
invok
.
format
(
false
)
+
" : "
+
UtilMDE
.
nplural
(
count
.
intValue
(
)
,
"invocation"
)
)
;
}
}
