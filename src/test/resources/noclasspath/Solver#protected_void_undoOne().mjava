/** 
 */
protected
void
undoOne
(
)
{
int
p
=
this
.
trail
.
last
(
)
;
assert
p
>
1
:
;
assert
this
.
voc
.
getLevel
(
p
)
>=
0
:
;
int
x
=
p
>>
1
;
this
.
voc
.
unassign
(
p
)
;
this
.
voc
.
setReason
(
p
,
null
)
;
this
.
voc
.
setLevel
(
p
,
-
1
)
;
this
.
order
.
undo
(
x
)
;
this
.
trail
.
pop
(
)
;
IVec
<
Undoable
>
undos
=
this
.
voc
.
undos
(
p
)
;
assert
undos
!=
null
:
;
for
(
int
size
=
undos
.
size
(
)
;
size
>
0
;
size
--
)
{
undos
.
last
(
)
.
undo
(
p
)
;
undos
.
pop
(
)
;
}
}
