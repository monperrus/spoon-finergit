private
int
byId
(
String
userId
,
ViolationType
type
,
Long
id
)
{
List
<
Integer
>
result
=
entityManager
.
createQuery
(
byId
,
Integer
.
class
)
.
setParameter
(
"userId"
,
userId
)
.
setParameter
(
"type"
,
type
.
toString
(
)
)
.
setParameter
(
"id"
,
id
)
.
setMaxResults
(
1
)
.
getResultList
(
)
;
return
result
.
isEmpty
(
)
?
ERROR_VALUE
:
result
.
get
(
0
)
;
}
