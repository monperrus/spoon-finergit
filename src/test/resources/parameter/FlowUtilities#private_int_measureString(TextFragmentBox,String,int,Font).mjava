private
int
measureString
(
TextFragmentBox
frag
,
String
string
,
int
guess
,
Font
font
)
{
if
(
frag
.
requiresBidi
(
)
)
{
return
getTextLayoutBounds
(
string
,
font
,
0
,
guess
-
1
)
.
width
;
}
else
return
getTextUtilities
(
)
.
getStringExtents
(
string
.
substring
(
0
,
guess
)
,
font
)
.
width
;
}
